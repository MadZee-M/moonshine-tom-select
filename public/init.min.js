var dn=Object.defineProperty;var fn=(t,e,n)=>e in t?dn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var z=(t,e,n)=>fn(t,typeof e!="symbol"?e+"":e,n);function Te(t,e){t.split(/\s+/).forEach(n=>{e(n)})}class pn{constructor(){this._events={}}on(e,n){Te(e,s=>{const r=this._events[s]||[];r.push(n),this._events[s]=r})}off(e,n){var s=arguments.length;if(s===0){this._events={};return}Te(e,r=>{if(s===1){delete this._events[r];return}const o=this._events[r];o!==void 0&&(o.splice(o.indexOf(n),1),this._events[r]=o)})}trigger(e,...n){var s=this;Te(e,r=>{const o=s._events[r];o!==void 0&&o.forEach(i=>{i.apply(s,n)})})}}function hn(t){return t.plugins={},class extends t{constructor(){super(...arguments),this.plugins={names:[],settings:{},requested:{},loaded:{}}}static define(e,n){t.plugins[e]={name:e,fn:n}}initializePlugins(e){var n,s;const r=this,o=[];if(Array.isArray(e))e.forEach(i=>{typeof i=="string"?o.push(i):(r.plugins.settings[i.name]=i.options,o.push(i.name))});else if(e)for(n in e)e.hasOwnProperty(n)&&(r.plugins.settings[n]=e[n],o.push(n));for(;s=o.shift();)r.require(s)}loadPlugin(e){var n=this,s=n.plugins,r=t.plugins[e];if(!t.plugins.hasOwnProperty(e))throw new Error('Unable to find "'+e+'" plugin');s.requested[e]=!0,s.loaded[e]=r.fn.apply(n,[n.plugins.settings[e]||{}]),s.names.push(e)}require(e){var n=this,s=n.plugins;if(!n.plugins.loaded.hasOwnProperty(e)){if(s.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');n.loadPlugin(e)}return s.loaded[e]}}}const we=t=>(t=t.filter(Boolean),t.length<2?t[0]||"":mn(t)==1?"["+t.join("")+"]":"(?:"+t.join("|")+")"),Ft=t=>{if(!gn(t))return t.join("");let e="",n=0;const s=()=>{n>1&&(e+="{"+n+"}")};return t.forEach((r,o)=>{if(r===t[o-1]){n++;return}s(),e+=r,n=1}),s(),e},Lt=t=>{let e=Array.from(t);return we(e)},gn=t=>new Set(t).size!==t.length,te=t=>(t+"").replace(/([\$\(\)\*\+\.\?\[\]\^\{\|\}\\])/gu,"\\$1"),mn=t=>t.reduce((e,n)=>Math.max(e,vn(n)),0),vn=t=>Array.from(t).length,It=t=>{if(t.length===1)return[[t]];let e=[];const n=t.substring(1);return It(n).forEach(function(r){let o=r.slice(0);o[0]=t.charAt(0)+o[0],e.push(o),o=r.slice(0),o.unshift(t.charAt(0)),e.push(o)}),e},yn=[[0,65535]],bn="[̀-ͯ·ʾʼ]";let ge,kt;const wn=3,Ke={},Ge={"/":"⁄∕",0:"߀",a:"ⱥɐɑ",aa:"ꜳ",ae:"æǽǣ",ao:"ꜵ",au:"ꜷ",av:"ꜹꜻ",ay:"ꜽ",b:"ƀɓƃ",c:"ꜿƈȼↄ",d:"đɗɖᴅƌꮷԁɦ",e:"ɛǝᴇɇ",f:"ꝼƒ",g:"ǥɠꞡᵹꝿɢ",h:"ħⱨⱶɥ",i:"ɨı",j:"ɉȷ",k:"ƙⱪꝁꝃꝅꞣ",l:"łƚɫⱡꝉꝇꞁɭ",m:"ɱɯϻ",n:"ꞥƞɲꞑᴎлԉ",o:"øǿɔɵꝋꝍᴑ",oe:"œ",oi:"ƣ",oo:"ꝏ",ou:"ȣ",p:"ƥᵽꝑꝓꝕρ",q:"ꝗꝙɋ",r:"ɍɽꝛꞧꞃ",s:"ßȿꞩꞅʂ",t:"ŧƭʈⱦꞇ",th:"þ",tz:"ꜩ",u:"ʉ",v:"ʋꝟʌ",vy:"ꝡ",w:"ⱳ",y:"ƴɏỿ",z:"ƶȥɀⱬꝣ",hv:"ƕ"};for(let t in Ge){let e=Ge[t]||"";for(let n=0;n<e.length;n++){let s=e.substring(n,n+1);Ke[s]=t}}const On=new RegExp(Object.keys(Ke).join("|")+"|"+bn,"gu"),_n=t=>{ge===void 0&&(ge=Cn(yn))},Ye=(t,e="NFKD")=>t.normalize(e),me=t=>Array.from(t).reduce((e,n)=>e+Sn(n),""),Sn=t=>(t=Ye(t).toLowerCase().replace(On,e=>Ke[e]||""),Ye(t,"NFC"));function*En(t){for(const[e,n]of t)for(let s=e;s<=n;s++){let r=String.fromCharCode(s),o=me(r);o!=r.toLowerCase()&&(o.length>wn||o.length!=0&&(yield{folded:o,composed:r,code_point:s}))}}const An=t=>{const e={},n=(s,r)=>{const o=e[s]||new Set,i=new RegExp("^"+Lt(o)+"$","iu");r.match(i)||(o.add(te(r)),e[s]=o)};for(let s of En(t))n(s.folded,s.folded),n(s.folded,s.composed);return e},Cn=t=>{const e=An(t),n={};let s=[];for(let o in e){let i=e[o];i&&(n[o]=Lt(i)),o.length>1&&s.push(te(o))}s.sort((o,i)=>i.length-o.length);const r=we(s);return kt=new RegExp("^"+r,"u"),n},xn=(t,e=1)=>{let n=0;return t=t.map(s=>(ge[s]&&(n+=s.length),ge[s]||s)),n>=e?Ft(t):""},Tn=(t,e=1)=>(e=Math.max(e,t.length-1),we(It(t).map(n=>xn(n,e)))),Xe=(t,e=!0)=>{let n=t.length>1?1:0;return we(t.map(s=>{let r=[];const o=e?s.length():s.length()-1;for(let i=0;i<o;i++)r.push(Tn(s.substrs[i]||"",n));return Ft(r)}))},Rn=(t,e)=>{for(const n of e){if(n.start!=t.start||n.end!=t.end||n.substrs.join("")!==t.substrs.join(""))continue;let s=t.parts;const r=i=>{for(const l of s){if(l.start===i.start&&l.substr===i.substr)return!1;if(!(i.length==1||l.length==1)&&(i.start<l.start&&i.end>l.start||l.start<i.start&&l.end>i.start))return!0}return!1};if(!(n.parts.filter(r).length>0))return!0}return!1};class ve{constructor(){z(this,"parts");z(this,"substrs");z(this,"start");z(this,"end");this.parts=[],this.substrs=[],this.start=0,this.end=0}add(e){e&&(this.parts.push(e),this.substrs.push(e.substr),this.start=Math.min(e.start,this.start),this.end=Math.max(e.end,this.end))}last(){return this.parts[this.parts.length-1]}length(){return this.parts.length}clone(e,n){let s=new ve,r=JSON.parse(JSON.stringify(this.parts)),o=r.pop();for(const c of r)s.add(c);let i=n.substr.substring(0,e-o.start),l=i.length;return s.add({start:o.start,end:o.start+l,length:l,substr:i}),s}}const Fn=t=>{_n(),t=me(t);let e="",n=[new ve];for(let s=0;s<t.length;s++){let o=t.substring(s).match(kt);const i=t.substring(s,s+1),l=o?o[0]:null;let c=[],a=new Set;for(const u of n){const d=u.last();if(!d||d.length==1||d.end<=s)if(l){const h=l.length;u.add({start:s,end:s+h,length:h,substr:l}),a.add("1")}else u.add({start:s,end:s+1,length:1,substr:i}),a.add("2");else if(l){let h=u.clone(s,d);const y=l.length;h.add({start:s,end:s+y,length:y,substr:l}),c.push(h)}else a.add("3")}if(c.length>0){c=c.sort((u,d)=>u.length()-d.length());for(let u of c)Rn(u,n)||n.push(u);continue}if(s>0&&a.size==1&&!a.has("3")){e+=Xe(n,!1);let u=new ve;const d=n[0];d&&u.add(d.last()),n=[u]}}return e+=Xe(n,!0),e},Ln=(t,e)=>{if(t)return t[e]},In=(t,e)=>{if(t){for(var n,s=e.split(".");(n=s.shift())&&(t=t[n]););return t}},Re=(t,e,n)=>{var s,r;return!t||(t=t+"",e.regex==null)||(r=t.search(e.regex),r===-1)?0:(s=e.string.length/t.length,r===0&&(s+=.5),s*n)},Fe=(t,e)=>{var n=t[e];if(typeof n=="function")return n;n&&!Array.isArray(n)&&(t[e]=[n])},le=(t,e)=>{if(Array.isArray(t))t.forEach(e);else for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},kn=(t,e)=>typeof t=="number"&&typeof e=="number"?t>e?1:t<e?-1:0:(t=me(t+"").toLowerCase(),e=me(e+"").toLowerCase(),t>e?1:e>t?-1:0);class $n{constructor(e,n){z(this,"items");z(this,"settings");this.items=e,this.settings=n||{diacritics:!0}}tokenize(e,n,s){if(!e||!e.length)return[];const r=[],o=e.split(/\s+/);var i;return s&&(i=new RegExp("^("+Object.keys(s).map(te).join("|")+"):(.*)$")),o.forEach(l=>{let c,a=null,u=null;i&&(c=l.match(i))&&(a=c[1],l=c[2]),l.length>0&&(this.settings.diacritics?u=Fn(l)||null:u=te(l),u&&n&&(u="\\b"+u)),r.push({string:l,regex:u?new RegExp(u,"iu"):null,field:a})}),r}getScoreFunction(e,n){var s=this.prepareSearch(e,n);return this._getScoreFunction(s)}_getScoreFunction(e){const n=e.tokens,s=n.length;if(!s)return function(){return 0};const r=e.options.fields,o=e.weights,i=r.length,l=e.getAttrFn;if(!i)return function(){return 1};const c=function(){return i===1?function(a,u){const d=r[0].field;return Re(l(u,d),a,o[d]||1)}:function(a,u){var d=0;if(a.field){const h=l(u,a.field);!a.regex&&h?d+=1/i:d+=Re(h,a,1)}else le(o,(h,y)=>{d+=Re(l(u,y),a,h)});return d/i}}();return s===1?function(a){return c(n[0],a)}:e.options.conjunction==="and"?function(a){var u,d=0;for(let h of n){if(u=c(h,a),u<=0)return 0;d+=u}return d/s}:function(a){var u=0;return le(n,d=>{u+=c(d,a)}),u/s}}getSortFunction(e,n){var s=this.prepareSearch(e,n);return this._getSortFunction(s)}_getSortFunction(e){var n,s=[];const r=this,o=e.options,i=!e.query&&o.sort_empty?o.sort_empty:o.sort;if(typeof i=="function")return i.bind(this);const l=function(a,u){return a==="$score"?u.score:e.getAttrFn(r.items[u.id],a)};if(i)for(let a of i)(e.query||a.field!=="$score")&&s.push(a);if(e.query){n=!0;for(let a of s)if(a.field==="$score"){n=!1;break}n&&s.unshift({field:"$score",direction:"desc"})}else s=s.filter(a=>a.field!=="$score");return s.length?function(a,u){var d,h;for(let y of s)if(h=y.field,d=(y.direction==="desc"?-1:1)*kn(l(h,a),l(h,u)),d)return d;return 0}:null}prepareSearch(e,n){const s={};var r=Object.assign({},n);if(Fe(r,"sort"),Fe(r,"sort_empty"),r.fields){Fe(r,"fields");const o=[];r.fields.forEach(i=>{typeof i=="string"&&(i={field:i,weight:1}),o.push(i),s[i.field]="weight"in i?i.weight:1}),r.fields=o}return{options:r,query:e.toLowerCase().trim(),tokens:this.tokenize(e,r.respect_word_boundaries,s),total:0,items:[],weights:s,getAttrFn:r.nesting?In:Ln}}search(e,n){var s=this,r,o;o=this.prepareSearch(e,n),n=o.options,e=o.query;const i=n.score||s._getScoreFunction(o);e.length?le(s.items,(c,a)=>{r=i(c),(n.filter===!1||r>0)&&o.items.push({score:r,id:a})}):le(s.items,(c,a)=>{o.items.push({score:1,id:a})});const l=s._getSortFunction(o);return l&&o.items.sort(l),o.total=o.items.length,typeof n.limit=="number"&&(o.items=o.items.slice(0,n.limit)),o}}const H=t=>typeof t>"u"||t===null?null:de(t),de=t=>typeof t=="boolean"?t?"1":"0":t+"",Le=t=>(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),Pn=(t,e)=>e>0?window.setTimeout(t,e):(t.call(null),null),Nn=(t,e)=>{var n;return function(s,r){var o=this;n&&(o.loading=Math.max(o.loading-1,0),clearTimeout(n)),n=setTimeout(function(){n=null,o.loadedSearches[s]=!0,t.call(o,s,r)},e)}},Ze=(t,e,n)=>{var s,r=t.trigger,o={};t.trigger=function(){var i=arguments[0];if(e.indexOf(i)!==-1)o[i]=arguments;else return r.apply(t,arguments)},n.apply(t,[]),t.trigger=r;for(s of e)s in o&&r.apply(t,o[s])},Dn=t=>({start:t.selectionStart||0,length:(t.selectionEnd||0)-(t.selectionStart||0)}),x=(t,e=!1)=>{t&&(t.preventDefault(),e&&t.stopPropagation())},N=(t,e,n,s)=>{t.addEventListener(e,n,s)},K=(t,e)=>{if(!e||!e[t])return!1;var n=(e.altKey?1:0)+(e.ctrlKey?1:0)+(e.shiftKey?1:0)+(e.metaKey?1:0);return n===1},Ie=(t,e)=>{const n=t.getAttribute("id");return n||(t.setAttribute("id",e),e)},et=t=>t.replace(/[\\"']/g,"\\$&"),W=(t,e)=>{e&&t.append(e)},L=(t,e)=>{if(Array.isArray(t))t.forEach(e);else for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},j=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if($t(t)){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}return document.querySelector(t)},$t=t=>typeof t=="string"&&t.indexOf("<")>-1,Bn=t=>t.replace(/['"\\]/g,"\\$&"),ke=(t,e)=>{var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!1),t.dispatchEvent(n)},ae=(t,e)=>{Object.assign(t.style,e)},M=(t,...e)=>{var n=Pt(e);t=Nt(t),t.map(s=>{n.map(r=>{s.classList.add(r)})})},q=(t,...e)=>{var n=Pt(e);t=Nt(t),t.map(s=>{n.map(r=>{s.classList.remove(r)})})},Pt=t=>{var e=[];return L(t,n=>{typeof n=="string"&&(n=n.trim().split(/[\t\n\f\r\s]/)),Array.isArray(n)&&(e=e.concat(n))}),e.filter(Boolean)},Nt=t=>(Array.isArray(t)||(t=[t]),t),$e=(t,e,n)=>{if(!(n&&!n.contains(t)))for(;t&&t.matches;){if(t.matches(e))return t;t=t.parentNode}},tt=(t,e=0)=>e>0?t[t.length-1]:t[0],Mn=t=>Object.keys(t).length===0,nt=(t,e)=>{if(!t)return-1;e=e||t.nodeName;for(var n=0;t=t.previousElementSibling;)t.matches(e)&&n++;return n},C=(t,e)=>{L(e,(n,s)=>{n==null?t.removeAttribute(s):t.setAttribute(s,""+n)})},Me=(t,e)=>{t.parentNode&&t.parentNode.replaceChild(e,t)},Hn=(t,e)=>{if(e===null)return;if(typeof e=="string"){if(!e.length)return;e=new RegExp(e,"i")}const n=o=>{var i=o.data.match(e);if(i&&o.data.length>0){var l=document.createElement("span");l.className="highlight";var c=o.splitText(i.index);c.splitText(i[0].length);var a=c.cloneNode(!0);return l.appendChild(a),Me(c,l),1}return 0},s=o=>{o.nodeType===1&&o.childNodes&&!/(script|style)/i.test(o.tagName)&&(o.className!=="highlight"||o.tagName!=="SPAN")&&Array.from(o.childNodes).forEach(i=>{r(i)})},r=o=>o.nodeType===3?n(o):(s(o),0);r(t)},Un=t=>{var e=t.querySelectorAll("span.highlight");Array.prototype.forEach.call(e,function(n){var s=n.parentNode;s.replaceChild(n.firstChild,n),s.normalize()})},jn=65,Vn=13,qn=27,zn=37,Kn=38,Wn=39,Jn=40,st=8,Qn=46,rt=9,Gn=typeof navigator>"u"?!1:/Mac/.test(navigator.userAgent),ce=Gn?"metaKey":"ctrlKey",it={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:null,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,shouldOpen:null,maxOptions:50,maxItems:null,hideSelected:null,duplicates:!1,addPrecedence:!1,selectOnTab:!1,preload:null,allowEmptyOption:!1,refreshThrottle:300,loadThrottle:300,loadingClass:"loading",dataAttr:null,optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"ts-wrapper",controlClass:"ts-control",dropdownClass:"ts-dropdown",dropdownContentClass:"ts-dropdown-content",itemClass:"item",optionClass:"option",dropdownParent:null,controlInput:'<input type="text" autocomplete="off" size="1" />',copyClassesToDropdown:!1,placeholder:null,hidePlaceholder:null,shouldLoad:function(t){return t.length>0},render:{}};function ot(t,e){var n=Object.assign({},it,e),s=n.dataAttr,r=n.labelField,o=n.valueField,i=n.disabledField,l=n.optgroupField,c=n.optgroupLabelField,a=n.optgroupValueField,u=t.tagName.toLowerCase(),d=t.getAttribute("placeholder")||t.getAttribute("data-placeholder");if(!d&&!n.allowEmptyOption){let m=t.querySelector('option[value=""]');m&&(d=m.textContent)}var h={placeholder:d,options:[],optgroups:[],items:[],maxItems:null},y=()=>{var m,g=h.options,b={},v=1;let O=0;var T=w=>{var E=Object.assign({},w.dataset),S=s&&E[s];return typeof S=="string"&&S.length&&(E=Object.assign(E,JSON.parse(S))),E},F=(w,E)=>{var S=H(w.value);if(S!=null&&!(!S&&!n.allowEmptyOption)){if(b.hasOwnProperty(S)){if(E){var I=b[S][l];I?Array.isArray(I)?I.push(E):b[S][l]=[I,E]:b[S][l]=E}}else{var A=T(w);A[r]=A[r]||w.textContent,A[o]=A[o]||S,A[i]=A[i]||w.disabled,A[l]=A[l]||E,A.$option=w,A.$order=A.$order||++O,b[S]=A,g.push(A)}w.selected&&h.items.push(S)}},P=w=>{var E,S;S=T(w),S[c]=S[c]||w.getAttribute("label")||"",S[a]=S[a]||v++,S[i]=S[i]||w.disabled,S.$order=S.$order||++O,h.optgroups.push(S),E=S[a],L(w.children,I=>{F(I,E)})};h.maxItems=t.hasAttribute("multiple")?null:1,L(t.children,w=>{m=w.tagName.toLowerCase(),m==="optgroup"?P(w):m==="option"&&F(w)})},p=()=>{const m=t.getAttribute(s);if(m)h.options=JSON.parse(m),L(h.options,b=>{h.items.push(b[o])});else{var g=t.value.trim()||"";if(!n.allowEmptyOption&&!g.length)return;const b=g.split(n.delimiter);L(b,v=>{const O={};O[r]=v,O[o]=v,h.options.push(O)}),h.items=b}};return u==="select"?y():p(),Object.assign({},it,h,e)}var lt=0;let $=class extends hn(pn){constructor(e,n){super(),this.order=0,this.isOpen=!1,this.isDisabled=!1,this.isReadOnly=!1,this.isInvalid=!1,this.isValid=!0,this.isLocked=!1,this.isFocused=!1,this.isInputHidden=!1,this.isSetup=!1,this.ignoreFocus=!1,this.ignoreHover=!1,this.hasOptions=!1,this.lastValue="",this.caretPos=0,this.loading=0,this.loadedSearches={},this.activeOption=null,this.activeItems=[],this.optgroups={},this.options={},this.userOptions={},this.items=[],this.refreshTimeout=null,lt++;var s,r=j(e);if(r.tomselect)throw new Error("Tom Select already initialized on this element");r.tomselect=this;var o=window.getComputedStyle&&window.getComputedStyle(r,null);s=o.getPropertyValue("direction");const i=ot(r,n);this.settings=i,this.input=r,this.tabIndex=r.tabIndex||0,this.is_select_tag=r.tagName.toLowerCase()==="select",this.rtl=/rtl/i.test(s),this.inputId=Ie(r,"tomselect-"+lt),this.isRequired=r.required,this.sifter=new $n(this.options,{diacritics:i.diacritics}),i.mode=i.mode||(i.maxItems===1?"single":"multi"),typeof i.hideSelected!="boolean"&&(i.hideSelected=i.mode==="multi"),typeof i.hidePlaceholder!="boolean"&&(i.hidePlaceholder=i.mode!=="multi");var l=i.createFilter;typeof l!="function"&&(typeof l=="string"&&(l=new RegExp(l)),l instanceof RegExp?i.createFilter=g=>l.test(g):i.createFilter=g=>this.settings.duplicates||!this.options[g]),this.initializePlugins(i.plugins),this.setupCallbacks(),this.setupTemplates();const c=j("<div>"),a=j("<div>"),u=this._render("dropdown"),d=j('<div role="listbox" tabindex="-1">'),h=this.input.getAttribute("class")||"",y=i.mode;var p;if(M(c,i.wrapperClass,h,y),M(a,i.controlClass),W(c,a),M(u,i.dropdownClass,y),i.copyClassesToDropdown&&M(u,h),M(d,i.dropdownContentClass),W(u,d),j(i.dropdownParent||c).appendChild(u),$t(i.controlInput)){p=j(i.controlInput);var m=["autocorrect","autocapitalize","autocomplete","spellcheck"];L(m,g=>{r.getAttribute(g)&&C(p,{[g]:r.getAttribute(g)})}),p.tabIndex=-1,a.appendChild(p),this.focus_node=p}else i.controlInput?(p=j(i.controlInput),this.focus_node=p):(p=j("<input/>"),this.focus_node=a);this.wrapper=c,this.dropdown=u,this.dropdown_content=d,this.control=a,this.control_input=p,this.setup()}setup(){const e=this,n=e.settings,s=e.control_input,r=e.dropdown,o=e.dropdown_content,i=e.wrapper,l=e.control,c=e.input,a=e.focus_node,u={passive:!0},d=e.inputId+"-ts-dropdown";C(o,{id:d}),C(a,{role:"combobox","aria-haspopup":"listbox","aria-expanded":"false","aria-controls":d});const h=Ie(a,e.inputId+"-ts-control"),y="label[for='"+Bn(e.inputId)+"']",p=document.querySelector(y),m=e.focus.bind(e);if(p){N(p,"click",m),C(p,{for:h});const v=Ie(p,e.inputId+"-ts-label");C(a,{"aria-labelledby":v}),C(o,{"aria-labelledby":v})}if(i.style.width=c.style.width,e.plugins.names.length){const v="plugin-"+e.plugins.names.join(" plugin-");M([i,r],v)}(n.maxItems===null||n.maxItems>1)&&e.is_select_tag&&C(c,{multiple:"multiple"}),n.placeholder&&C(s,{placeholder:n.placeholder}),!n.splitOn&&n.delimiter&&(n.splitOn=new RegExp("\\s*"+te(n.delimiter)+"+\\s*")),n.load&&n.loadThrottle&&(n.load=Nn(n.load,n.loadThrottle)),N(r,"mousemove",()=>{e.ignoreHover=!1}),N(r,"mouseenter",v=>{var O=$e(v.target,"[data-selectable]",r);O&&e.onOptionHover(v,O)},{capture:!0}),N(r,"click",v=>{const O=$e(v.target,"[data-selectable]");O&&(e.onOptionSelect(v,O),x(v,!0))}),N(l,"click",v=>{var O=$e(v.target,"[data-ts-item]",l);if(O&&e.onItemSelect(v,O)){x(v,!0);return}s.value==""&&(e.onClick(),x(v,!0))}),N(a,"keydown",v=>e.onKeyDown(v)),N(s,"keypress",v=>e.onKeyPress(v)),N(s,"input",v=>e.onInput(v)),N(a,"blur",v=>e.onBlur(v)),N(a,"focus",v=>e.onFocus(v)),N(s,"paste",v=>e.onPaste(v));const g=v=>{const O=v.composedPath()[0];if(!i.contains(O)&&!r.contains(O)){e.isFocused&&e.blur(),e.inputState();return}O==s&&e.isOpen?v.stopPropagation():x(v,!0)},b=()=>{e.isOpen&&e.positionDropdown()};N(document,"mousedown",g),N(window,"scroll",b,u),N(window,"resize",b,u),this._destroy=()=>{document.removeEventListener("mousedown",g),window.removeEventListener("scroll",b),window.removeEventListener("resize",b),p&&p.removeEventListener("click",m)},this.revertSettings={innerHTML:c.innerHTML,tabIndex:c.tabIndex},c.tabIndex=-1,c.insertAdjacentElement("afterend",e.wrapper),e.sync(!1),n.items=[],delete n.optgroups,delete n.options,N(c,"invalid",()=>{e.isValid&&(e.isValid=!1,e.isInvalid=!0,e.refreshState())}),e.updateOriginalInput(),e.refreshItems(),e.close(!1),e.inputState(),e.isSetup=!0,c.disabled?e.disable():c.readOnly?e.setReadOnly(!0):e.enable(),e.on("change",this.onChange),M(c,"tomselected","ts-hidden-accessible"),e.trigger("initialize"),n.preload===!0&&e.preload()}setupOptions(e=[],n=[]){this.addOptions(e),L(n,s=>{this.registerOptionGroup(s)})}setupTemplates(){var e=this,n=e.settings.labelField,s=e.settings.optgroupLabelField,r={optgroup:o=>{let i=document.createElement("div");return i.className="optgroup",i.appendChild(o.options),i},optgroup_header:(o,i)=>'<div class="optgroup-header">'+i(o[s])+"</div>",option:(o,i)=>"<div>"+i(o[n])+"</div>",item:(o,i)=>"<div>"+i(o[n])+"</div>",option_create:(o,i)=>'<div class="create">Add <strong>'+i(o.input)+"</strong>&hellip;</div>",no_results:()=>'<div class="no-results">No results found</div>',loading:()=>'<div class="spinner"></div>',not_loading:()=>{},dropdown:()=>"<div></div>"};e.settings.render=Object.assign({},r,e.settings.render)}setupCallbacks(){var e,n,s={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",item_select:"onItemSelect",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in s)n=this.settings[s[e]],n&&this.on(e,n)}sync(e=!0){const n=this,s=e?ot(n.input,{delimiter:n.settings.delimiter}):n.settings;n.setupOptions(s.options,s.optgroups),n.setValue(s.items||[],!0),n.lastQuery=null}onClick(){var e=this;if(e.activeItems.length>0){e.clearActiveItems(),e.focus();return}e.isFocused&&e.isOpen?e.blur():e.focus()}onMouseDown(){}onChange(){ke(this.input,"input"),ke(this.input,"change")}onPaste(e){var n=this;if(n.isInputHidden||n.isLocked){x(e);return}n.settings.splitOn&&setTimeout(()=>{var s=n.inputValue();if(s.match(n.settings.splitOn)){var r=s.trim().split(n.settings.splitOn);L(r,o=>{H(o)&&(this.options[o]?n.addItem(o):n.createItem(o))})}},0)}onKeyPress(e){var n=this;if(n.isLocked){x(e);return}var s=String.fromCharCode(e.keyCode||e.which);if(n.settings.create&&n.settings.mode==="multi"&&s===n.settings.delimiter){n.createItem(),x(e);return}}onKeyDown(e){var n=this;if(n.ignoreHover=!0,n.isLocked){e.keyCode!==rt&&x(e);return}switch(e.keyCode){case jn:if(K(ce,e)&&n.control_input.value==""){x(e),n.selectAll();return}break;case qn:n.isOpen&&(x(e,!0),n.close()),n.clearActiveItems();return;case Jn:if(!n.isOpen&&n.hasOptions)n.open();else if(n.activeOption){let s=n.getAdjacent(n.activeOption,1);s&&n.setActiveOption(s)}x(e);return;case Kn:if(n.activeOption){let s=n.getAdjacent(n.activeOption,-1);s&&n.setActiveOption(s)}x(e);return;case Vn:n.canSelect(n.activeOption)?(n.onOptionSelect(e,n.activeOption),x(e)):(n.settings.create&&n.createItem()||document.activeElement==n.control_input&&n.isOpen)&&x(e);return;case zn:n.advanceSelection(-1,e);return;case Wn:n.advanceSelection(1,e);return;case rt:n.settings.selectOnTab&&(n.canSelect(n.activeOption)&&(n.onOptionSelect(e,n.activeOption),x(e)),n.settings.create&&n.createItem()&&x(e));return;case st:case Qn:n.deleteSelection(e);return}n.isInputHidden&&!K(ce,e)&&x(e)}onInput(e){if(this.isLocked)return;const n=this.inputValue();if(this.lastValue!==n){if(this.lastValue=n,n==""){this._onInput();return}this.refreshTimeout&&window.clearTimeout(this.refreshTimeout),this.refreshTimeout=Pn(()=>{this.refreshTimeout=null,this._onInput()},this.settings.refreshThrottle)}}_onInput(){const e=this.lastValue;this.settings.shouldLoad.call(this,e)&&this.load(e),this.refreshOptions(),this.trigger("type",e)}onOptionHover(e,n){this.ignoreHover||this.setActiveOption(n,!1)}onFocus(e){var n=this,s=n.isFocused;if(n.isDisabled||n.isReadOnly){n.blur(),x(e);return}n.ignoreFocus||(n.isFocused=!0,n.settings.preload==="focus"&&n.preload(),s||n.trigger("focus"),n.activeItems.length||(n.inputState(),n.refreshOptions(!!n.settings.openOnFocus)),n.refreshState())}onBlur(e){if(document.hasFocus()!==!1){var n=this;if(n.isFocused){n.isFocused=!1,n.ignoreFocus=!1;var s=()=>{n.close(),n.setActiveItem(),n.setCaret(n.items.length),n.trigger("blur")};n.settings.create&&n.settings.createOnBlur?n.createItem(null,s):s()}}}onOptionSelect(e,n){var s,r=this;n.parentElement&&n.parentElement.matches("[data-disabled]")||(n.classList.contains("create")?r.createItem(null,()=>{r.settings.closeAfterSelect&&r.close()}):(s=n.dataset.value,typeof s<"u"&&(r.lastQuery=null,r.addItem(s),r.settings.closeAfterSelect&&r.close(),!r.settings.hideSelected&&e.type&&/click/.test(e.type)&&r.setActiveOption(n))))}canSelect(e){return!!(this.isOpen&&e&&this.dropdown_content.contains(e))}onItemSelect(e,n){var s=this;return!s.isLocked&&s.settings.mode==="multi"?(x(e),s.setActiveItem(n,e),!0):!1}canLoad(e){return!(!this.settings.load||this.loadedSearches.hasOwnProperty(e))}load(e){const n=this;if(!n.canLoad(e))return;M(n.wrapper,n.settings.loadingClass),n.loading++;const s=n.loadCallback.bind(n);n.settings.load.call(n,e,s)}loadCallback(e,n){const s=this;s.loading=Math.max(s.loading-1,0),s.lastQuery=null,s.clearActiveOption(),s.setupOptions(e,n),s.refreshOptions(s.isFocused&&!s.isInputHidden),s.loading||q(s.wrapper,s.settings.loadingClass),s.trigger("load",e,n)}preload(){var e=this.wrapper.classList;e.contains("preloaded")||(e.add("preloaded"),this.load(""))}setTextboxValue(e=""){var n=this.control_input,s=n.value!==e;s&&(n.value=e,ke(n,"update"),this.lastValue=e)}getValue(){return this.is_select_tag&&this.input.hasAttribute("multiple")?this.items:this.items.join(this.settings.delimiter)}setValue(e,n){var s=n?[]:["change"];Ze(this,s,()=>{this.clear(n),this.addItems(e,n)})}setMaxItems(e){e===0&&(e=null),this.settings.maxItems=e,this.refreshState()}setActiveItem(e,n){var s=this,r,o,i,l,c,a;if(s.settings.mode!=="single"){if(!e){s.clearActiveItems(),s.isFocused&&s.inputState();return}if(r=n&&n.type.toLowerCase(),r==="click"&&K("shiftKey",n)&&s.activeItems.length){for(a=s.getLastActive(),i=Array.prototype.indexOf.call(s.control.children,a),l=Array.prototype.indexOf.call(s.control.children,e),i>l&&(c=i,i=l,l=c),o=i;o<=l;o++)e=s.control.children[o],s.activeItems.indexOf(e)===-1&&s.setActiveItemClass(e);x(n)}else r==="click"&&K(ce,n)||r==="keydown"&&K("shiftKey",n)?e.classList.contains("active")?s.removeActiveItem(e):s.setActiveItemClass(e):(s.clearActiveItems(),s.setActiveItemClass(e));s.inputState(),s.isFocused||s.focus()}}setActiveItemClass(e){const n=this,s=n.control.querySelector(".last-active");s&&q(s,"last-active"),M(e,"active last-active"),n.trigger("item_select",e),n.activeItems.indexOf(e)==-1&&n.activeItems.push(e)}removeActiveItem(e){var n=this.activeItems.indexOf(e);this.activeItems.splice(n,1),q(e,"active")}clearActiveItems(){q(this.activeItems,"active"),this.activeItems=[]}setActiveOption(e,n=!0){e!==this.activeOption&&(this.clearActiveOption(),e&&(this.activeOption=e,C(this.focus_node,{"aria-activedescendant":e.getAttribute("id")}),C(e,{"aria-selected":"true"}),M(e,"active"),n&&this.scrollToOption(e)))}scrollToOption(e,n){if(!e)return;const s=this.dropdown_content,r=s.clientHeight,o=s.scrollTop||0,i=e.offsetHeight,l=e.getBoundingClientRect().top-s.getBoundingClientRect().top+o;l+i>r+o?this.scroll(l-r+i,n):l<o&&this.scroll(l,n)}scroll(e,n){const s=this.dropdown_content;n&&(s.style.scrollBehavior=n),s.scrollTop=e,s.style.scrollBehavior=""}clearActiveOption(){this.activeOption&&(q(this.activeOption,"active"),C(this.activeOption,{"aria-selected":null})),this.activeOption=null,C(this.focus_node,{"aria-activedescendant":null})}selectAll(){const e=this;if(e.settings.mode==="single")return;const n=e.controlChildren();n.length&&(e.inputState(),e.close(),e.activeItems=n,L(n,s=>{e.setActiveItemClass(s)}))}inputState(){var e=this;e.control.contains(e.control_input)&&(C(e.control_input,{placeholder:e.settings.placeholder}),e.activeItems.length>0||!e.isFocused&&e.settings.hidePlaceholder&&e.items.length>0?(e.setTextboxValue(),e.isInputHidden=!0):(e.settings.hidePlaceholder&&e.items.length>0&&C(e.control_input,{placeholder:""}),e.isInputHidden=!1),e.wrapper.classList.toggle("input-hidden",e.isInputHidden))}inputValue(){return this.control_input.value.trim()}focus(){var e=this;e.isDisabled||e.isReadOnly||(e.ignoreFocus=!0,e.control_input.offsetWidth?e.control_input.focus():e.focus_node.focus(),setTimeout(()=>{e.ignoreFocus=!1,e.onFocus()},0))}blur(){this.focus_node.blur(),this.onBlur()}getScoreFunction(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())}getSearchOptions(){var e=this.settings,n=e.sortField;return typeof e.sortField=="string"&&(n=[{field:e.sortField}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:n,nesting:e.nesting}}search(e){var n,s,r=this,o=this.getSearchOptions();if(r.settings.score&&(s=r.settings.score.call(r,e),typeof s!="function"))throw new Error('Tom Select "score" setting must be a function that returns a function');return e!==r.lastQuery?(r.lastQuery=e,n=r.sifter.search(e,Object.assign(o,{score:s})),r.currentResults=n):n=Object.assign({},r.currentResults),r.settings.hideSelected&&(n.items=n.items.filter(i=>{let l=H(i.id);return!(l&&r.items.indexOf(l)!==-1)})),n}refreshOptions(e=!0){var n,s,r,o,i,l,c,a,u,d;const h={},y=[];var p=this,m=p.inputValue();const g=m===p.lastQuery||m==""&&p.lastQuery==null;var b=p.search(m),v=null,O=p.settings.shouldOpen||!1,T=p.dropdown_content;g&&(v=p.activeOption,v&&(u=v.closest("[data-group]"))),o=b.items.length,typeof p.settings.maxOptions=="number"&&(o=Math.min(o,p.settings.maxOptions)),o>0&&(O=!0);const F=(w,E)=>{let S=h[w];if(S!==void 0){let A=y[S];if(A!==void 0)return[S,A.fragment]}let I=document.createDocumentFragment();return S=y.length,y.push({fragment:I,order:E,optgroup:w}),[S,I]};for(n=0;n<o;n++){let w=b.items[n];if(!w)continue;let E=w.id,S=p.options[E];if(S===void 0)continue;let I=de(E),A=p.getOption(I,!0);for(p.settings.hideSelected||A.classList.toggle("selected",p.items.includes(I)),i=S[p.settings.optgroupField]||"",l=Array.isArray(i)?i:[i],s=0,r=l&&l.length;s<r;s++){i=l[s];let ie=S.$order,oe=p.optgroups[i];oe===void 0?i="":ie=oe.$order;const[cn,un]=F(i,ie);s>0&&(A=A.cloneNode(!0),C(A,{id:S.$id+"-clone-"+s,"aria-selected":null}),A.classList.add("ts-cloned"),q(A,"active"),p.activeOption&&p.activeOption.dataset.value==E&&u&&u.dataset.group===i.toString()&&(v=A)),un.appendChild(A),i!=""&&(h[i]=cn)}}p.settings.lockOptgroupOrder&&y.sort((w,E)=>w.order-E.order),c=document.createDocumentFragment(),L(y,w=>{let E=w.fragment,S=w.optgroup;if(!E||!E.children.length)return;let I=p.optgroups[S];if(I!==void 0){let A=document.createDocumentFragment(),ie=p.render("optgroup_header",I);W(A,ie),W(A,E);let oe=p.render("optgroup",{group:I,options:A});W(c,oe)}else W(c,E)}),T.innerHTML="",W(T,c),p.settings.highlight&&(Un(T),b.query.length&&b.tokens.length&&L(b.tokens,w=>{Hn(T,w.regex)}));var P=w=>{let E=p.render(w,{input:m});return E&&(O=!0,T.insertBefore(E,T.firstChild)),E};if(p.loading?P("loading"):p.settings.shouldLoad.call(p,m)?b.items.length===0&&P("no_results"):P("not_loading"),a=p.canCreate(m),a&&(d=P("option_create")),p.hasOptions=b.items.length>0||a,O){if(b.items.length>0){if(!v&&p.settings.mode==="single"&&p.items[0]!=null&&(v=p.getOption(p.items[0])),!T.contains(v)){let w=0;d&&!p.settings.addPrecedence&&(w=1),v=p.selectable()[w]}}else d&&(v=d);e&&!p.isOpen&&(p.open(),p.scrollToOption(v,"auto")),p.setActiveOption(v)}else p.clearActiveOption(),e&&p.isOpen&&p.close(!1)}selectable(){return this.dropdown_content.querySelectorAll("[data-selectable]")}addOption(e,n=!1){const s=this;if(Array.isArray(e))return s.addOptions(e,n),!1;const r=H(e[s.settings.valueField]);return r===null||s.options.hasOwnProperty(r)?!1:(e.$order=e.$order||++s.order,e.$id=s.inputId+"-opt-"+e.$order,s.options[r]=e,s.lastQuery=null,n&&(s.userOptions[r]=n,s.trigger("option_add",r,e)),r)}addOptions(e,n=!1){L(e,s=>{this.addOption(s,n)})}registerOption(e){return this.addOption(e)}registerOptionGroup(e){var n=H(e[this.settings.optgroupValueField]);return n===null?!1:(e.$order=e.$order||++this.order,this.optgroups[n]=e,n)}addOptionGroup(e,n){var s;n[this.settings.optgroupValueField]=e,(s=this.registerOptionGroup(n))&&this.trigger("optgroup_add",s,n)}removeOptionGroup(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.clearCache(),this.trigger("optgroup_remove",e))}clearOptionGroups(){this.optgroups={},this.clearCache(),this.trigger("optgroup_clear")}updateOption(e,n){const s=this;var r,o;const i=H(e),l=H(n[s.settings.valueField]);if(i===null)return;const c=s.options[i];if(c==null)return;if(typeof l!="string")throw new Error("Value must be set in option data");const a=s.getOption(i),u=s.getItem(i);if(n.$order=n.$order||c.$order,delete s.options[i],s.uncacheValue(l),s.options[l]=n,a){if(s.dropdown_content.contains(a)){const d=s._render("option",n);Me(a,d),s.activeOption===a&&s.setActiveOption(d)}a.remove()}u&&(o=s.items.indexOf(i),o!==-1&&s.items.splice(o,1,l),r=s._render("item",n),u.classList.contains("active")&&M(r,"active"),Me(u,r)),s.lastQuery=null}removeOption(e,n){const s=this;e=de(e),s.uncacheValue(e),delete s.userOptions[e],delete s.options[e],s.lastQuery=null,s.trigger("option_remove",e),s.removeItem(e,n)}clearOptions(e){const n=(e||this.clearFilter).bind(this);this.loadedSearches={},this.userOptions={},this.clearCache();const s={};L(this.options,(r,o)=>{n(r,o)&&(s[o]=r)}),this.options=this.sifter.items=s,this.lastQuery=null,this.trigger("option_clear")}clearFilter(e,n){return this.items.indexOf(n)>=0}getOption(e,n=!1){const s=H(e);if(s===null)return null;const r=this.options[s];if(r!=null){if(r.$div)return r.$div;if(n)return this._render("option",r)}return null}getAdjacent(e,n,s="option"){var r=this,o;if(!e)return null;s=="item"?o=r.controlChildren():o=r.dropdown_content.querySelectorAll("[data-selectable]");for(let i=0;i<o.length;i++)if(o[i]==e)return n>0?o[i+1]:o[i-1];return null}getItem(e){if(typeof e=="object")return e;var n=H(e);return n!==null?this.control.querySelector(`[data-value="${et(n)}"]`):null}addItems(e,n){var s=this,r=Array.isArray(e)?e:[e];r=r.filter(i=>s.items.indexOf(i)===-1);const o=r[r.length-1];r.forEach(i=>{s.isPending=i!==o,s.addItem(i,n)})}addItem(e,n){var s=n?[]:["change","dropdown_close"];Ze(this,s,()=>{var r,o;const i=this,l=i.settings.mode,c=H(e);if(!(c&&i.items.indexOf(c)!==-1&&(l==="single"&&i.close(),l==="single"||!i.settings.duplicates))&&!(c===null||!i.options.hasOwnProperty(c))&&(l==="single"&&i.clear(n),!(l==="multi"&&i.isFull()))){if(r=i._render("item",i.options[c]),i.control.contains(r)&&(r=r.cloneNode(!0)),o=i.isFull(),i.items.splice(i.caretPos,0,c),i.insertAtCaret(r),i.isSetup){if(!i.isPending&&i.settings.hideSelected){let a=i.getOption(c),u=i.getAdjacent(a,1);u&&i.setActiveOption(u)}!i.isPending&&!i.settings.closeAfterSelect&&i.refreshOptions(i.isFocused&&l!=="single"),i.settings.closeAfterSelect!=!1&&i.isFull()?i.close():i.isPending||i.positionDropdown(),i.trigger("item_add",c,r),i.isPending||i.updateOriginalInput({silent:n})}(!i.isPending||!o&&i.isFull())&&(i.inputState(),i.refreshState())}})}removeItem(e=null,n){const s=this;if(e=s.getItem(e),!e)return;var r,o;const i=e.dataset.value;r=nt(e),e.remove(),e.classList.contains("active")&&(o=s.activeItems.indexOf(e),s.activeItems.splice(o,1),q(e,"active")),s.items.splice(r,1),s.lastQuery=null,!s.settings.persist&&s.userOptions.hasOwnProperty(i)&&s.removeOption(i,n),r<s.caretPos&&s.setCaret(s.caretPos-1),s.updateOriginalInput({silent:n}),s.refreshState(),s.positionDropdown(),s.trigger("item_remove",i,e)}createItem(e=null,n=()=>{}){arguments.length===3&&(n=arguments[2]),typeof n!="function"&&(n=()=>{});var s=this,r=s.caretPos,o;if(e=e||s.inputValue(),!s.canCreate(e))return n(),!1;s.lock();var i=!1,l=c=>{if(s.unlock(),!c||typeof c!="object")return n();var a=H(c[s.settings.valueField]);if(typeof a!="string")return n();s.setTextboxValue(),s.addOption(c,!0),s.setCaret(r),s.addItem(a),n(c),i=!0};return typeof s.settings.create=="function"?o=s.settings.create.call(this,e,l):o={[s.settings.labelField]:e,[s.settings.valueField]:e},i||l(o),!0}refreshItems(){var e=this;e.lastQuery=null,e.isSetup&&e.addItems(e.items),e.updateOriginalInput(),e.refreshState()}refreshState(){const e=this;e.refreshValidityState();const n=e.isFull(),s=e.isLocked;e.wrapper.classList.toggle("rtl",e.rtl);const r=e.wrapper.classList;r.toggle("focus",e.isFocused),r.toggle("disabled",e.isDisabled),r.toggle("readonly",e.isReadOnly),r.toggle("required",e.isRequired),r.toggle("invalid",!e.isValid),r.toggle("locked",s),r.toggle("full",n),r.toggle("input-active",e.isFocused&&!e.isInputHidden),r.toggle("dropdown-active",e.isOpen),r.toggle("has-options",Mn(e.options)),r.toggle("has-items",e.items.length>0)}refreshValidityState(){var e=this;e.input.validity&&(e.isValid=e.input.validity.valid,e.isInvalid=!e.isValid)}isFull(){return this.settings.maxItems!==null&&this.items.length>=this.settings.maxItems}updateOriginalInput(e={}){const n=this;var s,r;const o=n.input.querySelector('option[value=""]');if(n.is_select_tag){let a=function(u,d,h){return u||(u=j('<option value="'+Le(d)+'">'+Le(h)+"</option>")),u!=o&&n.input.append(u),l.push(u),(u!=o||c>0)&&(u.selected=!0),u};var i=a;const l=[],c=n.input.querySelectorAll("option:checked").length;n.input.querySelectorAll("option:checked").forEach(u=>{u.selected=!1}),n.items.length==0&&n.settings.mode=="single"?a(o,"",""):n.items.forEach(u=>{if(s=n.options[u],r=s[n.settings.labelField]||"",l.includes(s.$option)){const d=n.input.querySelector(`option[value="${et(u)}"]:not(:checked)`);a(d,u,r)}else s.$option=a(s.$option,u,r)})}else n.input.value=n.getValue();n.isSetup&&(e.silent||n.trigger("change",n.getValue()))}open(){var e=this;e.isLocked||e.isOpen||e.settings.mode==="multi"&&e.isFull()||(e.isOpen=!0,C(e.focus_node,{"aria-expanded":"true"}),e.refreshState(),ae(e.dropdown,{visibility:"hidden",display:"block"}),e.positionDropdown(),ae(e.dropdown,{visibility:"visible",display:"block"}),e.focus(),e.trigger("dropdown_open",e.dropdown))}close(e=!0){var n=this,s=n.isOpen;e&&(n.setTextboxValue(),n.settings.mode==="single"&&n.items.length&&n.inputState()),n.isOpen=!1,C(n.focus_node,{"aria-expanded":"false"}),ae(n.dropdown,{display:"none"}),n.settings.hideSelected&&n.clearActiveOption(),n.refreshState(),s&&n.trigger("dropdown_close",n.dropdown)}positionDropdown(){if(this.settings.dropdownParent==="body"){var e=this.control,n=e.getBoundingClientRect(),s=e.offsetHeight+n.top+window.scrollY,r=n.left+window.scrollX;ae(this.dropdown,{width:n.width+"px",top:s+"px",left:r+"px"})}}clear(e){var n=this;if(n.items.length){var s=n.controlChildren();L(s,r=>{n.removeItem(r,!0)}),n.inputState(),e||n.updateOriginalInput(),n.trigger("clear")}}insertAtCaret(e){const n=this,s=n.caretPos,r=n.control;r.insertBefore(e,r.children[s]||null),n.setCaret(s+1)}deleteSelection(e){var n,s,r,o,i=this;n=e&&e.keyCode===st?-1:1,s=Dn(i.control_input);const l=[];if(i.activeItems.length)o=tt(i.activeItems,n),r=nt(o),n>0&&r++,L(i.activeItems,c=>l.push(c));else if((i.isFocused||i.settings.mode==="single")&&i.items.length){const c=i.controlChildren();let a;n<0&&s.start===0&&s.length===0?a=c[i.caretPos-1]:n>0&&s.start===i.inputValue().length&&(a=c[i.caretPos]),a!==void 0&&l.push(a)}if(!i.shouldDelete(l,e))return!1;for(x(e,!0),typeof r<"u"&&i.setCaret(r);l.length;)i.removeItem(l.pop());return i.inputState(),i.positionDropdown(),i.refreshOptions(!1),!0}shouldDelete(e,n){const s=e.map(r=>r.dataset.value);return!(!s.length||typeof this.settings.onDelete=="function"&&this.settings.onDelete(s,n)===!1)}advanceSelection(e,n){var s,r,o=this;o.rtl&&(e*=-1),!o.inputValue().length&&(K(ce,n)||K("shiftKey",n)?(s=o.getLastActive(e),s?s.classList.contains("active")?r=o.getAdjacent(s,e,"item"):r=s:e>0?r=o.control_input.nextElementSibling:r=o.control_input.previousElementSibling,r&&(r.classList.contains("active")&&o.removeActiveItem(s),o.setActiveItemClass(r))):o.moveCaret(e))}moveCaret(e){}getLastActive(e){let n=this.control.querySelector(".last-active");if(n)return n;var s=this.control.querySelectorAll(".active");if(s)return tt(s,e)}setCaret(e){this.caretPos=this.items.length}controlChildren(){return Array.from(this.control.querySelectorAll("[data-ts-item]"))}lock(){this.setLocked(!0)}unlock(){this.setLocked(!1)}setLocked(e=this.isReadOnly||this.isDisabled){this.isLocked=e,this.refreshState()}disable(){this.setDisabled(!0),this.close()}enable(){this.setDisabled(!1)}setDisabled(e){this.focus_node.tabIndex=e?-1:this.tabIndex,this.isDisabled=e,this.input.disabled=e,this.control_input.disabled=e,this.setLocked()}setReadOnly(e){this.isReadOnly=e,this.input.readOnly=e,this.control_input.readOnly=e,this.setLocked()}destroy(){var e=this,n=e.revertSettings;e.trigger("destroy"),e.off(),e.wrapper.remove(),e.dropdown.remove(),e.input.innerHTML=n.innerHTML,e.input.tabIndex=n.tabIndex,q(e.input,"tomselected","ts-hidden-accessible"),e._destroy(),delete e.input.tomselect}render(e,n){var s,r;const o=this;if(typeof this.settings.render[e]!="function"||(r=o.settings.render[e].call(this,n,Le),!r))return null;if(r=j(r),e==="option"||e==="option_create"?n[o.settings.disabledField]?C(r,{"aria-disabled":"true"}):C(r,{"data-selectable":""}):e==="optgroup"&&(s=n.group[o.settings.optgroupValueField],C(r,{"data-group":s}),n.group[o.settings.disabledField]&&C(r,{"data-disabled":""})),e==="option"||e==="item"){const i=de(n[o.settings.valueField]);C(r,{"data-value":i}),e==="item"?(M(r,o.settings.itemClass),C(r,{"data-ts-item":""})):(M(r,o.settings.optionClass),C(r,{role:"option",id:n.$id}),n.$div=r,o.options[i]=n)}return r}_render(e,n){const s=this.render(e,n);if(s==null)throw"HTMLElement expected";return s}clearCache(){L(this.options,e=>{e.$div&&(e.$div.remove(),delete e.$div)})}uncacheValue(e){const n=this.getOption(e);n&&n.remove()}canCreate(e){return this.settings.create&&e.length>0&&this.settings.createFilter.call(this,e)}hook(e,n,s){var r=this,o=r[n];r[n]=function(){var i,l;return e==="after"&&(i=o.apply(r,arguments)),l=s.apply(r,arguments),e==="instead"?l:(e==="before"&&(i=o.apply(r,arguments)),i)}}};const Yn=(t,e,n,s)=>{t.addEventListener(e,n,s)};function Xn(){Yn(this.input,"change",()=>{this.sync()})}const Zn=t=>typeof t>"u"||t===null?null:es(t),es=t=>typeof t=="boolean"?t?"1":"0":t+"",at=(t,e=!1)=>{t&&(t.preventDefault(),e&&t.stopPropagation())},ts=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(ns(t)){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}return document.querySelector(t)},ns=t=>typeof t=="string"&&t.indexOf("<")>-1;function ss(t){var e=this,n=e.onOptionSelect;e.settings.hideSelected=!1;const s=Object.assign({className:"tomselect-checkbox",checkedClassNames:void 0,uncheckedClassNames:void 0},t);var r=function(l,c){c?(l.checked=!0,s.uncheckedClassNames&&l.classList.remove(...s.uncheckedClassNames),s.checkedClassNames&&l.classList.add(...s.checkedClassNames)):(l.checked=!1,s.checkedClassNames&&l.classList.remove(...s.checkedClassNames),s.uncheckedClassNames&&l.classList.add(...s.uncheckedClassNames))},o=function(l){setTimeout(()=>{var c=l.querySelector("input."+s.className);c instanceof HTMLInputElement&&r(c,l.classList.contains("selected"))},1)};e.hook("after","setupTemplates",()=>{var i=e.settings.render.option;e.settings.render.option=(l,c)=>{var a=ts(i.call(e,l,c)),u=document.createElement("input");s.className&&u.classList.add(s.className),u.addEventListener("click",function(h){at(h)}),u.type="checkbox";const d=Zn(l[e.settings.valueField]);return r(u,!!(d&&e.items.indexOf(d)>-1)),a.prepend(u),a}}),e.on("item_remove",i=>{var l=e.getOption(i);l&&(l.classList.remove("selected"),o(l))}),e.on("item_add",i=>{var l=e.getOption(i);l&&o(l)}),e.hook("instead","onOptionSelect",(i,l)=>{if(l.classList.contains("selected")){l.classList.remove("selected"),e.removeItem(l.dataset.value),e.refreshOptions(),at(i,!0);return}n.call(e,i,l),o(l)})}const rs=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(is(t)){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}return document.querySelector(t)},is=t=>typeof t=="string"&&t.indexOf("<")>-1;function os(t){const e=this,n=Object.assign({className:"clear-button",title:"Clear All",html:s=>`<div class="${s.className}" title="${s.title}">&#10799;</div>`},t);e.on("initialize",()=>{var s=rs(n.html(n));s.addEventListener("click",r=>{e.isLocked||(e.clear(),e.settings.mode==="single"&&e.settings.allowEmptyOption&&e.addItem(""),r.preventDefault(),r.stopPropagation())}),e.control.appendChild(s)})}const ls=(t,e=!1)=>{t&&(t.preventDefault(),e&&t.stopPropagation())},Y=(t,e,n,s)=>{t.addEventListener(e,n,s)},as=(t,e)=>{if(Array.isArray(t))t.forEach(e);else for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},cs=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(us(t)){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}return document.querySelector(t)},us=t=>typeof t=="string"&&t.indexOf("<")>-1,ds=(t,e)=>{as(e,(n,s)=>{n==null?t.removeAttribute(s):t.setAttribute(s,""+n)})},fs=(t,e)=>{var n;(n=t.parentNode)==null||n.insertBefore(e,t.nextSibling)},ps=(t,e)=>{var n;(n=t.parentNode)==null||n.insertBefore(e,t)},hs=(t,e)=>{do{var n;if(e=(n=e)==null?void 0:n.previousElementSibling,t==e)return!0}while(e&&e.previousElementSibling);return!1};function gs(){var t=this;if(t.settings.mode!=="multi")return;var e=t.lock,n=t.unlock;let s=!0,r;t.hook("after","setupTemplates",()=>{var o=t.settings.render.item;t.settings.render.item=(i,l)=>{const c=cs(o.call(t,i,l));ds(c,{draggable:"true"});const a=m=>{s||ls(m),m.stopPropagation()},u=m=>{r=c,setTimeout(()=>{c.classList.add("ts-dragging")},0)},d=m=>{m.preventDefault(),c.classList.add("ts-drag-over"),y(c,r)},h=()=>{c.classList.remove("ts-drag-over")},y=(m,g)=>{g!==void 0&&(hs(g,c)?fs(m,g):ps(m,g))},p=()=>{var m;document.querySelectorAll(".ts-drag-over").forEach(b=>b.classList.remove("ts-drag-over")),(m=r)==null||m.classList.remove("ts-dragging"),r=void 0;var g=[];t.control.querySelectorAll("[data-value]").forEach(b=>{if(b.dataset.value){let v=b.dataset.value;v&&g.push(v)}}),t.setValue(g)};return Y(c,"mousedown",a),Y(c,"dragstart",u),Y(c,"dragenter",d),Y(c,"dragover",d),Y(c,"dragleave",h),Y(c,"dragend",p),c}}),t.hook("instead","lock",()=>(s=!1,e.call(t))),t.hook("instead","unlock",()=>(s=!0,n.call(t)))}const ms=(t,e=!1)=>{t&&(t.preventDefault(),e&&t.stopPropagation())},vs=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(ys(t)){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}return document.querySelector(t)},ys=t=>typeof t=="string"&&t.indexOf("<")>-1;function bs(t){const e=this,n=Object.assign({title:"Untitled",headerClass:"dropdown-header",titleRowClass:"dropdown-header-title",labelClass:"dropdown-header-label",closeClass:"dropdown-header-close",html:s=>'<div class="'+s.headerClass+'"><div class="'+s.titleRowClass+'"><span class="'+s.labelClass+'">'+s.title+'</span><a class="'+s.closeClass+'">&times;</a></div></div>'},t);e.on("initialize",()=>{var s=vs(n.html(n)),r=s.querySelector("."+n.closeClass);r&&r.addEventListener("click",o=>{ms(o,!0),e.close()}),e.dropdown.insertBefore(s,e.dropdown.firstChild)})}const ws=(t,e)=>{if(Array.isArray(t))t.forEach(e);else for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},Os=(t,...e)=>{var n=_s(e);t=Ss(t),t.map(s=>{n.map(r=>{s.classList.remove(r)})})},_s=t=>{var e=[];return ws(t,n=>{typeof n=="string"&&(n=n.trim().split(/[\t\n\f\r\s]/)),Array.isArray(n)&&(e=e.concat(n))}),e.filter(Boolean)},Ss=t=>(Array.isArray(t)||(t=[t]),t),Es=(t,e)=>{if(!t)return-1;e=e||t.nodeName;for(var n=0;t=t.previousElementSibling;)t.matches(e)&&n++;return n};function As(){var t=this;t.hook("instead","setCaret",e=>{t.settings.mode==="single"||!t.control.contains(t.control_input)?e=t.items.length:(e=Math.max(0,Math.min(t.items.length,e)),e!=t.caretPos&&!t.isPending&&t.controlChildren().forEach((n,s)=>{s<e?t.control_input.insertAdjacentElement("beforebegin",n):t.control.appendChild(n)})),t.caretPos=e}),t.hook("instead","moveCaret",e=>{if(!t.isFocused)return;const n=t.getLastActive(e);if(n){const s=Es(n);t.setCaret(e>0?s+1:s),t.setActiveItem(),Os(n,"last-active")}else t.setCaret(t.caretPos+e)})}const Cs=27,xs=9,Ts=(t,e=!1)=>{t&&(t.preventDefault(),e&&t.stopPropagation())},Rs=(t,e,n,s)=>{t.addEventListener(e,n,s)},Fs=(t,e)=>{if(Array.isArray(t))t.forEach(e);else for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},ct=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(Ls(t)){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}return document.querySelector(t)},Ls=t=>typeof t=="string"&&t.indexOf("<")>-1,Is=(t,...e)=>{var n=ks(e);t=$s(t),t.map(s=>{n.map(r=>{s.classList.add(r)})})},ks=t=>{var e=[];return Fs(t,n=>{typeof n=="string"&&(n=n.trim().split(/[\t\n\f\r\s]/)),Array.isArray(n)&&(e=e.concat(n))}),e.filter(Boolean)},$s=t=>(Array.isArray(t)||(t=[t]),t);function Ps(){const t=this;t.settings.shouldOpen=!0,t.hook("before","setup",()=>{t.focus_node=t.control,Is(t.control_input,"dropdown-input");const e=ct('<div class="dropdown-input-wrap">');e.append(t.control_input),t.dropdown.insertBefore(e,t.dropdown.firstChild);const n=ct('<input class="items-placeholder" tabindex="-1" />');n.placeholder=t.settings.placeholder||"",t.control.append(n)}),t.on("initialize",()=>{t.control_input.addEventListener("keydown",n=>{switch(n.keyCode){case Cs:t.isOpen&&(Ts(n,!0),t.close()),t.clearActiveItems();return;case xs:t.focus_node.tabIndex=-1;break}return t.onKeyDown.call(t,n)}),t.on("blur",()=>{t.focus_node.tabIndex=t.isDisabled?-1:t.tabIndex}),t.on("dropdown_open",()=>{t.control_input.focus()});const e=t.onBlur;t.hook("instead","onBlur",n=>{if(!(n&&n.relatedTarget==t.control_input))return e.call(t)}),Rs(t.control_input,"blur",()=>t.onBlur()),t.hook("before","close",()=>{t.isOpen&&t.focus_node.focus({preventScroll:!0})})})}const ue=(t,e,n,s)=>{t.addEventListener(e,n,s)};function Ns(){var t=this;t.on("initialize",()=>{var e=document.createElement("span"),n=t.control_input;e.style.cssText="position:absolute; top:-99999px; left:-99999px; width:auto; padding:0; white-space:pre; ",t.wrapper.appendChild(e);var s=["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"];for(const o of s)e.style[o]=n.style[o];var r=()=>{e.textContent=n.value,n.style.width=e.clientWidth+"px"};r(),t.on("update item_add item_remove",r),ue(n,"input",r),ue(n,"keyup",r),ue(n,"blur",r),ue(n,"update",r)})}function Ds(){var t=this,e=t.deleteSelection;this.hook("instead","deleteSelection",n=>t.activeItems.length?e.call(t,n):!1)}function Bs(){this.hook("instead","setActiveItem",()=>{}),this.hook("instead","selectAll",()=>{})}const ut=37,Ms=39,Hs=(t,e,n)=>{for(;t&&t.matches;){if(t.matches(e))return t;t=t.parentNode}},Us=(t,e)=>{if(!t)return-1;e=e||t.nodeName;for(var n=0;t=t.previousElementSibling;)t.matches(e)&&n++;return n};function js(){var t=this,e=t.onKeyDown;t.hook("instead","onKeyDown",n=>{var s,r,o,i;if(!t.isOpen||!(n.keyCode===ut||n.keyCode===Ms))return e.call(t,n);t.ignoreHover=!0,i=Hs(t.activeOption,"[data-group]"),s=Us(t.activeOption,"[data-selectable]"),i&&(n.keyCode===ut?i=i.previousSibling:i=i.nextSibling,i&&(o=i.querySelectorAll("[data-selectable]"),r=o[Math.min(o.length-1,s)],r&&t.setActiveOption(r)))})}const Vs=t=>(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),dt=(t,e=!1)=>{t&&(t.preventDefault(),e&&t.stopPropagation())},ft=(t,e,n,s)=>{t.addEventListener(e,n,s)},pt=t=>{if(t.jquery)return t[0];if(t instanceof HTMLElement)return t;if(qs(t)){var e=document.createElement("template");return e.innerHTML=t.trim(),e.content.firstChild}return document.querySelector(t)},qs=t=>typeof t=="string"&&t.indexOf("<")>-1;function zs(t){const e=Object.assign({label:"&times;",title:"Remove",className:"remove",append:!0},t);var n=this;if(e.append){var s='<a href="javascript:void(0)" class="'+e.className+'" tabindex="-1" title="'+Vs(e.title)+'">'+e.label+"</a>";n.hook("after","setupTemplates",()=>{var r=n.settings.render.item;n.settings.render.item=(o,i)=>{var l=pt(r.call(n,o,i)),c=pt(s);return l.appendChild(c),ft(c,"mousedown",a=>{dt(a,!0)}),ft(c,"click",a=>{n.isLocked||(dt(a,!0),!n.isLocked&&n.shouldDelete([l],a)&&(n.removeItem(l),n.refreshOptions(!1),n.inputState()))}),l}})}}function Ks(t){const e=this,n=Object.assign({text:s=>s[e.settings.labelField]},t);e.on("item_remove",function(s){if(e.isFocused&&e.control_input.value.trim()===""){var r=e.options[s];r&&e.setTextboxValue(n.text.call(e,r))}})}const Ws=(t,e)=>{if(Array.isArray(t))t.forEach(e);else for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},Js=(t,...e)=>{var n=Qs(e);t=Gs(t),t.map(s=>{n.map(r=>{s.classList.add(r)})})},Qs=t=>{var e=[];return Ws(t,n=>{typeof n=="string"&&(n=n.trim().split(/[\t\n\f\r\s]/)),Array.isArray(n)&&(e=e.concat(n))}),e.filter(Boolean)},Gs=t=>(Array.isArray(t)||(t=[t]),t);function Ys(){const t=this,e=t.canLoad,n=t.clearActiveOption,s=t.loadCallback;var r={},o,i=!1,l,c=[];if(t.settings.shouldLoadMore||(t.settings.shouldLoadMore=()=>{if(o.clientHeight/(o.scrollHeight-o.scrollTop)>.9)return!0;if(t.activeOption){var h=t.selectable(),y=Array.from(h).indexOf(t.activeOption);if(y>=h.length-2)return!0}return!1}),!t.settings.firstUrl)throw"virtual_scroll plugin requires a firstUrl() method";t.settings.sortField=[{field:"$order"},{field:"$score"}];const a=d=>typeof t.settings.maxOptions=="number"&&o.children.length>=t.settings.maxOptions?!1:!!(d in r&&r[d]),u=(d,h)=>t.items.indexOf(h)>=0||c.indexOf(h)>=0;t.setNextUrl=(d,h)=>{r[d]=h},t.getUrl=d=>{if(d in r){const h=r[d];return r[d]=!1,h}return t.clearPagination(),t.settings.firstUrl.call(t,d)},t.clearPagination=()=>{r={}},t.hook("instead","clearActiveOption",()=>{if(!i)return n.call(t)}),t.hook("instead","canLoad",d=>d in r?a(d):e.call(t,d)),t.hook("instead","loadCallback",(d,h)=>{if(!i)t.clearOptions(u);else if(l){const y=d[0];y!==void 0&&(l.dataset.value=y[t.settings.valueField])}s.call(t,d,h),i=!1}),t.hook("after","refreshOptions",()=>{const d=t.lastValue;var h;a(d)?(h=t.render("loading_more",{query:d}),h&&(h.setAttribute("data-selectable",""),l=h)):d in r&&!o.querySelector(".no-results")&&(h=t.render("no_more_results",{query:d})),h&&(Js(h,t.settings.optionClass),o.append(h))}),t.on("initialize",()=>{c=Object.keys(t.options),o=t.dropdown_content,t.settings.render=Object.assign({},{loading_more:()=>'<div class="loading-more-results">Loading more results ... </div>',no_more_results:()=>'<div class="no-more-results">No more results</div>'},t.settings.render),o.addEventListener("scroll",()=>{t.settings.shouldLoadMore.call(t)&&a(t.lastValue)&&(i||(i=!0,t.load.call(t,t.lastValue)))})})}$.define("change_listener",Xn);$.define("checkbox_options",ss);$.define("clear_button",os);$.define("drag_drop",gs);$.define("dropdown_header",bs);$.define("caret_position",As);$.define("dropdown_input",Ps);$.define("input_autogrow",Ns);$.define("no_backspace_delete",Ds);$.define("no_active_items",Bs);$.define("optgroup_columns",js);$.define("remove_button",zs);$.define("restore_on_backspace",Ks);$.define("virtual_scroll",Ys);function ht(t){return t===null?"":(t=t.replace("[]",""),t.indexOf("slide[")!==-1&&(t=t.replace("slide[","").replace("]","")),t)}function Xs(t){let e;const n=t.getAttribute("type");if(t.hasAttribute("multiple")&&t.options!==void 0){e=[];for(let s of t.options)s.selected&&e.push(s.value)}else n==="checkbox"?e=t.checked:e=t.value;return e}function Zs(t,e=null){return e!==null&&e.split(",").forEach(function(s){t.delete(s)}),t}function er(t,e=!1){function n(r,o){const i=[];for(let l in r)if(r.hasOwnProperty(l)){const c=o?`${o}[${l}]`:l,a=r[l];typeof a=="object"&&a!==null?i.push(n(a,c)):i.push(`${c}=${a}`)}return i.join("&")}const s=n(t);return e===!0?encodeURI(s):s}function tr(t=null,e=50){if(t.length===0)return"";const n={};return t.forEach(s=>{const r=s.getAttribute("name");if(r&&s.getAttribute("type")!=="file"&&s.tagName.toLowerCase()!=="textarea"&&!r.startsWith("_")&&!r.startsWith("hidden_")){const o=Xs(s);(s.getAttribute("type")==="checkbox"||s.getAttribute("type")==="radio")&&s.checked?n[ht(r)]=typeof s.value=="boolean"?1:s.value:(e===!1||o.length<=e)&&(n[ht(r)]=o)}}),Object.entries(n).map(s=>`${encodeURIComponent(s[0])}=${encodeURIComponent(s[1])}`).join("&")}function nr(t,e=null){return Zs(sr(t),e)}function sr(t,e=50){const n=new FormData;for(const[s,r]of t)(e===!1||r.length<=e)&&n.append(s,r);return n}const Pe={INNER_HTML:"inner_html",OUTER_HTML:"outer_html"};function gt(t,e=void 0){const n=e!==void 0?[]:{};return t&&t.split(",").forEach(function(r){let o=r.split("{->}");e!==void 0?n.push({[e[0]]:o[0],[e[1]]:o[1]}):n[o[0]]=o[1]}),n}function rr(t={htmlData:void 0,selectors:void 0,fields_values:void 0}){if(t.htmlData!==void 0&&t.htmlData.forEach(function(e){let n=t.selectors??e.selector;n&&(n=typeof n=="string"?n.split(","):n,n.forEach(function(s){document.querySelectorAll(s).forEach(o=>{ir(e.html&&typeof e.html=="object"?e.html[s]??e.html:e.html,e.htmlMode,s,o)})}))}),t.fields_values!==void 0&&typeof t.fields_values=="object")for(let[e,n]of Object.entries(t.fields_values)){let s=document.querySelector(e);s!==null&&(s.value=n,s.dispatchEvent(new Event("change")))}}function ir(t,e,n,s){let r=Pe.INNER_HTML;e!==void 0&&(r=e),r===Pe.INNER_HTML?s.innerHTML=t:r===Pe.OUTER_HTML?s.outerHTML=t:s.insertAdjacentHTML(r,t)}function or(t,e,n,s={}){var r;if(t&&typeof t=="string"){if(t.includes("{row-id}")&&n.$el!==void 0)if(n.$el.tagName.toLowerCase()==="form")t=t.replace(/{row-id}/g,new URL(n.$el.action).searchParams.get("resourceItem")??0);else{const o=n.$el.closest("tr");t=t.replace(/{row-id}/g,((r=o==null?void 0:o.dataset)==null?void 0:r.rowKey)??0)}t!==""&&e!=="error"&&t.split(",").forEach(function(i){let l=i.split("|"),c=l[0];const a={};if(Object.assign(a,s),Array.isArray(l)&&l.length>1){let u=l[1].split(";");for(let d of u){let h=d.split("=");a[h[0]]=h[1].replace(/`/g,"").trim()}}setTimeout(function(){dispatchEvent(new CustomEvent(c.replaceAll(/\s/g,"").toLowerCase(),{detail:a,bubbles:!0,composed:!0,cancelable:!0})),rr({htmlData:gt(a.selectors,["selector","html"]),fields_values:gt(a.fields_values)})},a._delay??0)})}}function Dt(t,e){return function(){return t.apply(e,arguments)}}const{toString:lr}=Object.prototype,{getPrototypeOf:We}=Object,{iterator:Oe,toStringTag:Bt}=Symbol,_e=(t=>e=>{const n=lr.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),U=t=>(t=t.toLowerCase(),e=>_e(e)===t),Se=t=>e=>typeof e===t,{isArray:X}=Array,ne=Se("undefined");function ar(t){return t!==null&&!ne(t)&&t.constructor!==null&&!ne(t.constructor)&&D(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Mt=U("ArrayBuffer");function cr(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Mt(t.buffer),e}const ur=Se("string"),D=Se("function"),Ht=Se("number"),Ee=t=>t!==null&&typeof t=="object",dr=t=>t===!0||t===!1,fe=t=>{if(_e(t)!=="object")return!1;const e=We(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Bt in t)&&!(Oe in t)},fr=U("Date"),pr=U("File"),hr=U("Blob"),gr=U("FileList"),mr=t=>Ee(t)&&D(t.pipe),vr=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||D(t.append)&&((e=_e(t))==="formdata"||e==="object"&&D(t.toString)&&t.toString()==="[object FormData]"))},yr=U("URLSearchParams"),[br,wr,Or,_r]=["ReadableStream","Request","Response","Headers"].map(U),Sr=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function se(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,r;if(typeof t!="object"&&(t=[t]),X(t))for(s=0,r=t.length;s<r;s++)e.call(null,t[s],s,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),i=o.length;let l;for(s=0;s<i;s++)l=o[s],e.call(null,t[l],l,t)}}function Ut(t,e){e=e.toLowerCase();const n=Object.keys(t);let s=n.length,r;for(;s-- >0;)if(r=n[s],e===r.toLowerCase())return r;return null}const J=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,jt=t=>!ne(t)&&t!==J;function He(){const{caseless:t}=jt(this)&&this||{},e={},n=(s,r)=>{const o=t&&Ut(e,r)||r;fe(e[o])&&fe(s)?e[o]=He(e[o],s):fe(s)?e[o]=He({},s):X(s)?e[o]=s.slice():e[o]=s};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&se(arguments[s],n);return e}const Er=(t,e,n,{allOwnKeys:s}={})=>(se(e,(r,o)=>{n&&D(r)?t[o]=Dt(r,n):t[o]=r},{allOwnKeys:s}),t),Ar=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Cr=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},xr=(t,e,n,s)=>{let r,o,i;const l={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),o=r.length;o-- >0;)i=r[o],(!s||s(i,t,e))&&!l[i]&&(e[i]=t[i],l[i]=!0);t=n!==!1&&We(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Tr=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},Rr=t=>{if(!t)return null;if(X(t))return t;let e=t.length;if(!Ht(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Fr=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&We(Uint8Array)),Lr=(t,e)=>{const s=(t&&t[Oe]).call(t);let r;for(;(r=s.next())&&!r.done;){const o=r.value;e.call(t,o[0],o[1])}},Ir=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},kr=U("HTMLFormElement"),$r=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,r){return s.toUpperCase()+r}),mt=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Pr=U("RegExp"),Vt=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};se(n,(r,o)=>{let i;(i=e(r,o,t))!==!1&&(s[o]=i||r)}),Object.defineProperties(t,s)},Nr=t=>{Vt(t,(e,n)=>{if(D(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(D(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Dr=(t,e)=>{const n={},s=r=>{r.forEach(o=>{n[o]=!0})};return X(t)?s(t):s(String(t).split(e)),n},Br=()=>{},Mr=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Hr(t){return!!(t&&D(t.append)&&t[Bt]==="FormData"&&t[Oe])}const Ur=t=>{const e=new Array(10),n=(s,r)=>{if(Ee(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[r]=s;const o=X(s)?[]:{};return se(s,(i,l)=>{const c=n(i,r+1);!ne(c)&&(o[l]=c)}),e[r]=void 0,o}}return s};return n(t,0)},jr=U("AsyncFunction"),Vr=t=>t&&(Ee(t)||D(t))&&D(t.then)&&D(t.catch),qt=((t,e)=>t?setImmediate:e?((n,s)=>(J.addEventListener("message",({source:r,data:o})=>{r===J&&o===n&&s.length&&s.shift()()},!1),r=>{s.push(r),J.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",D(J.postMessage)),qr=typeof queueMicrotask<"u"?queueMicrotask.bind(J):typeof process<"u"&&process.nextTick||qt,zr=t=>t!=null&&D(t[Oe]),f={isArray:X,isArrayBuffer:Mt,isBuffer:ar,isFormData:vr,isArrayBufferView:cr,isString:ur,isNumber:Ht,isBoolean:dr,isObject:Ee,isPlainObject:fe,isReadableStream:br,isRequest:wr,isResponse:Or,isHeaders:_r,isUndefined:ne,isDate:fr,isFile:pr,isBlob:hr,isRegExp:Pr,isFunction:D,isStream:mr,isURLSearchParams:yr,isTypedArray:Fr,isFileList:gr,forEach:se,merge:He,extend:Er,trim:Sr,stripBOM:Ar,inherits:Cr,toFlatObject:xr,kindOf:_e,kindOfTest:U,endsWith:Tr,toArray:Rr,forEachEntry:Lr,matchAll:Ir,isHTMLForm:kr,hasOwnProperty:mt,hasOwnProp:mt,reduceDescriptors:Vt,freezeMethods:Nr,toObjectSet:Dr,toCamelCase:$r,noop:Br,toFiniteNumber:Mr,findKey:Ut,global:J,isContextDefined:jt,isSpecCompliantForm:Hr,toJSONObject:Ur,isAsyncFn:jr,isThenable:Vr,setImmediate:qt,asap:qr,isIterable:zr};function _(t,e,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r,this.status=r.status?r.status:null)}f.inherits(_,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:f.toJSONObject(this.config),code:this.code,status:this.status}}});const zt=_.prototype,Kt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Kt[t]={value:t}});Object.defineProperties(_,Kt);Object.defineProperty(zt,"isAxiosError",{value:!0});_.from=(t,e,n,s,r,o)=>{const i=Object.create(zt);return f.toFlatObject(t,i,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),_.call(i,t.message,e,n,s,r),i.cause=t,i.name=t.name,o&&Object.assign(i,o),i};const Kr=null;function Ue(t){return f.isPlainObject(t)||f.isArray(t)}function Wt(t){return f.endsWith(t,"[]")?t.slice(0,-2):t}function vt(t,e,n){return t?t.concat(e).map(function(r,o){return r=Wt(r),!n&&o?"["+r+"]":r}).join(n?".":""):e}function Wr(t){return f.isArray(t)&&!t.some(Ue)}const Jr=f.toFlatObject(f,{},null,function(e){return/^is[A-Z]/.test(e)});function Ae(t,e,n){if(!f.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=f.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,g){return!f.isUndefined(g[m])});const s=n.metaTokens,r=n.visitor||u,o=n.dots,i=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&f.isSpecCompliantForm(e);if(!f.isFunction(r))throw new TypeError("visitor must be a function");function a(p){if(p===null)return"";if(f.isDate(p))return p.toISOString();if(f.isBoolean(p))return p.toString();if(!c&&f.isBlob(p))throw new _("Blob is not supported. Use a Buffer instead.");return f.isArrayBuffer(p)||f.isTypedArray(p)?c&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,m,g){let b=p;if(p&&!g&&typeof p=="object"){if(f.endsWith(m,"{}"))m=s?m:m.slice(0,-2),p=JSON.stringify(p);else if(f.isArray(p)&&Wr(p)||(f.isFileList(p)||f.endsWith(m,"[]"))&&(b=f.toArray(p)))return m=Wt(m),b.forEach(function(O,T){!(f.isUndefined(O)||O===null)&&e.append(i===!0?vt([m],T,o):i===null?m:m+"[]",a(O))}),!1}return Ue(p)?!0:(e.append(vt(g,m,o),a(p)),!1)}const d=[],h=Object.assign(Jr,{defaultVisitor:u,convertValue:a,isVisitable:Ue});function y(p,m){if(!f.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(p),f.forEach(p,function(b,v){(!(f.isUndefined(b)||b===null)&&r.call(e,b,f.isString(v)?v.trim():v,m,h))===!0&&y(b,m?m.concat(v):[v])}),d.pop()}}if(!f.isObject(t))throw new TypeError("data must be an object");return y(t),e}function yt(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Je(t,e){this._pairs=[],t&&Ae(t,this,e)}const Jt=Je.prototype;Jt.append=function(e,n){this._pairs.push([e,n])};Jt.toString=function(e){const n=e?function(s){return e.call(this,s,yt)}:yt;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function Qr(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Qt(t,e,n){if(!e)return t;const s=n&&n.encode||Qr;f.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let o;if(r?o=r(e,n):o=f.isURLSearchParams(e)?e.toString():new Je(e,n).toString(s),o){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class bt{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){f.forEach(this.handlers,function(s){s!==null&&e(s)})}}const Gt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Gr=typeof URLSearchParams<"u"?URLSearchParams:Je,Yr=typeof FormData<"u"?FormData:null,Xr=typeof Blob<"u"?Blob:null,Zr={isBrowser:!0,classes:{URLSearchParams:Gr,FormData:Yr,Blob:Xr},protocols:["http","https","file","blob","url","data"]},Qe=typeof window<"u"&&typeof document<"u",je=typeof navigator=="object"&&navigator||void 0,ei=Qe&&(!je||["ReactNative","NativeScript","NS"].indexOf(je.product)<0),ti=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ni=Qe&&window.location.href||"http://localhost",si=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Qe,hasStandardBrowserEnv:ei,hasStandardBrowserWebWorkerEnv:ti,navigator:je,origin:ni},Symbol.toStringTag,{value:"Module"})),k={...si,...Zr};function ri(t,e){return Ae(t,new k.classes.URLSearchParams,Object.assign({visitor:function(n,s,r,o){return k.isNode&&f.isBuffer(n)?(this.append(s,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function ii(t){return f.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function oi(t){const e={},n=Object.keys(t);let s;const r=n.length;let o;for(s=0;s<r;s++)o=n[s],e[o]=t[o];return e}function Yt(t){function e(n,s,r,o){let i=n[o++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),c=o>=n.length;return i=!i&&f.isArray(r)?r.length:i,c?(f.hasOwnProp(r,i)?r[i]=[r[i],s]:r[i]=s,!l):((!r[i]||!f.isObject(r[i]))&&(r[i]=[]),e(n,s,r[i],o)&&f.isArray(r[i])&&(r[i]=oi(r[i])),!l)}if(f.isFormData(t)&&f.isFunction(t.entries)){const n={};return f.forEachEntry(t,(s,r)=>{e(ii(s),r,n,0)}),n}return null}function li(t,e,n){if(f.isString(t))try{return(e||JSON.parse)(t),f.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(t)}const re={transitional:Gt,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const s=n.getContentType()||"",r=s.indexOf("application/json")>-1,o=f.isObject(e);if(o&&f.isHTMLForm(e)&&(e=new FormData(e)),f.isFormData(e))return r?JSON.stringify(Yt(e)):e;if(f.isArrayBuffer(e)||f.isBuffer(e)||f.isStream(e)||f.isFile(e)||f.isBlob(e)||f.isReadableStream(e))return e;if(f.isArrayBufferView(e))return e.buffer;if(f.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(o){if(s.indexOf("application/x-www-form-urlencoded")>-1)return ri(e,this.formSerializer).toString();if((l=f.isFileList(e))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Ae(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return o||r?(n.setContentType("application/json",!1),li(e)):e}],transformResponse:[function(e){const n=this.transitional||re.transitional,s=n&&n.forcedJSONParsing,r=this.responseType==="json";if(f.isResponse(e)||f.isReadableStream(e))return e;if(e&&f.isString(e)&&(s&&!this.responseType||r)){const i=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(l){if(i)throw l.name==="SyntaxError"?_.from(l,_.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:k.classes.FormData,Blob:k.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};f.forEach(["delete","get","head","post","put","patch"],t=>{re.headers[t]={}});const ai=f.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ci=t=>{const e={};let n,s,r;return t&&t.split(`
`).forEach(function(i){r=i.indexOf(":"),n=i.substring(0,r).trim().toLowerCase(),s=i.substring(r+1).trim(),!(!n||e[n]&&ai[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},wt=Symbol("internals");function ee(t){return t&&String(t).trim().toLowerCase()}function pe(t){return t===!1||t==null?t:f.isArray(t)?t.map(pe):String(t)}function ui(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const di=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ne(t,e,n,s,r){if(f.isFunction(s))return s.call(this,e,n);if(r&&(e=n),!!f.isString(e)){if(f.isString(s))return e.indexOf(s)!==-1;if(f.isRegExp(s))return s.test(e)}}function fi(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function pi(t,e){const n=f.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(r,o,i){return this[s].call(this,e,r,o,i)},configurable:!0})})}let B=class{constructor(e){e&&this.set(e)}set(e,n,s){const r=this;function o(l,c,a){const u=ee(c);if(!u)throw new Error("header name must be a non-empty string");const d=f.findKey(r,u);(!d||r[d]===void 0||a===!0||a===void 0&&r[d]!==!1)&&(r[d||c]=pe(l))}const i=(l,c)=>f.forEach(l,(a,u)=>o(a,u,c));if(f.isPlainObject(e)||e instanceof this.constructor)i(e,n);else if(f.isString(e)&&(e=e.trim())&&!di(e))i(ci(e),n);else if(f.isObject(e)&&f.isIterable(e)){let l={},c,a;for(const u of e){if(!f.isArray(u))throw TypeError("Object iterator must return a key-value pair");l[a=u[0]]=(c=l[a])?f.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}i(l,n)}else e!=null&&o(n,e,s);return this}get(e,n){if(e=ee(e),e){const s=f.findKey(this,e);if(s){const r=this[s];if(!n)return r;if(n===!0)return ui(r);if(f.isFunction(n))return n.call(this,r,s);if(f.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=ee(e),e){const s=f.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||Ne(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let r=!1;function o(i){if(i=ee(i),i){const l=f.findKey(s,i);l&&(!n||Ne(s,s[l],l,n))&&(delete s[l],r=!0)}}return f.isArray(e)?e.forEach(o):o(e),r}clear(e){const n=Object.keys(this);let s=n.length,r=!1;for(;s--;){const o=n[s];(!e||Ne(this,this[o],o,e,!0))&&(delete this[o],r=!0)}return r}normalize(e){const n=this,s={};return f.forEach(this,(r,o)=>{const i=f.findKey(s,o);if(i){n[i]=pe(r),delete n[o];return}const l=e?fi(o):String(o).trim();l!==o&&delete n[o],n[l]=pe(r),s[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return f.forEach(this,(s,r)=>{s!=null&&s!==!1&&(n[r]=e&&f.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(r=>s.set(r)),s}static accessor(e){const s=(this[wt]=this[wt]={accessors:{}}).accessors,r=this.prototype;function o(i){const l=ee(i);s[l]||(pi(r,i),s[l]=!0)}return f.isArray(e)?e.forEach(o):o(e),this}};B.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);f.reduceDescriptors(B.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});f.freezeMethods(B);function De(t,e){const n=this||re,s=e||n,r=B.from(s.headers);let o=s.data;return f.forEach(t,function(l){o=l.call(n,o,r.normalize(),e?e.status:void 0)}),r.normalize(),o}function Xt(t){return!!(t&&t.__CANCEL__)}function Z(t,e,n){_.call(this,t??"canceled",_.ERR_CANCELED,e,n),this.name="CanceledError"}f.inherits(Z,_,{__CANCEL__:!0});function Zt(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new _("Request failed with status code "+n.status,[_.ERR_BAD_REQUEST,_.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function hi(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function gi(t,e){t=t||10;const n=new Array(t),s=new Array(t);let r=0,o=0,i;return e=e!==void 0?e:1e3,function(c){const a=Date.now(),u=s[o];i||(i=a),n[r]=c,s[r]=a;let d=o,h=0;for(;d!==r;)h+=n[d++],d=d%t;if(r=(r+1)%t,r===o&&(o=(o+1)%t),a-i<e)return;const y=u&&a-u;return y?Math.round(h*1e3/y):void 0}}function mi(t,e){let n=0,s=1e3/e,r,o;const i=(a,u=Date.now())=>{n=u,r=null,o&&(clearTimeout(o),o=null),t.apply(null,a)};return[(...a)=>{const u=Date.now(),d=u-n;d>=s?i(a,u):(r=a,o||(o=setTimeout(()=>{o=null,i(r)},s-d)))},()=>r&&i(r)]}const ye=(t,e,n=3)=>{let s=0;const r=gi(50,250);return mi(o=>{const i=o.loaded,l=o.lengthComputable?o.total:void 0,c=i-s,a=r(c),u=i<=l;s=i;const d={loaded:i,total:l,progress:l?i/l:void 0,bytes:c,rate:a||void 0,estimated:a&&l&&u?(l-i)/a:void 0,event:o,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(d)},n)},Ot=(t,e)=>{const n=t!=null;return[s=>e[0]({lengthComputable:n,total:t,loaded:s}),e[1]]},_t=t=>(...e)=>f.asap(()=>t(...e)),vi=k.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,k.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(k.origin),k.navigator&&/(msie|trident)/i.test(k.navigator.userAgent)):()=>!0,yi=k.hasStandardBrowserEnv?{write(t,e,n,s,r,o){const i=[t+"="+encodeURIComponent(e)];f.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),f.isString(s)&&i.push("path="+s),f.isString(r)&&i.push("domain="+r),o===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function bi(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function wi(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function en(t,e,n){let s=!bi(e);return t&&(s||n==!1)?wi(t,e):e}const St=t=>t instanceof B?{...t}:t;function G(t,e){e=e||{};const n={};function s(a,u,d,h){return f.isPlainObject(a)&&f.isPlainObject(u)?f.merge.call({caseless:h},a,u):f.isPlainObject(u)?f.merge({},u):f.isArray(u)?u.slice():u}function r(a,u,d,h){if(f.isUndefined(u)){if(!f.isUndefined(a))return s(void 0,a,d,h)}else return s(a,u,d,h)}function o(a,u){if(!f.isUndefined(u))return s(void 0,u)}function i(a,u){if(f.isUndefined(u)){if(!f.isUndefined(a))return s(void 0,a)}else return s(void 0,u)}function l(a,u,d){if(d in e)return s(a,u);if(d in t)return s(void 0,a)}const c={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(a,u,d)=>r(St(a),St(u),d,!0)};return f.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=c[u]||r,h=d(t[u],e[u],u);f.isUndefined(h)&&d!==l||(n[u]=h)}),n}const tn=t=>{const e=G({},t);let{data:n,withXSRFToken:s,xsrfHeaderName:r,xsrfCookieName:o,headers:i,auth:l}=e;e.headers=i=B.from(i),e.url=Qt(en(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(f.isFormData(n)){if(k.hasStandardBrowserEnv||k.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((c=i.getContentType())!==!1){const[a,...u]=c?c.split(";").map(d=>d.trim()).filter(Boolean):[];i.setContentType([a||"multipart/form-data",...u].join("; "))}}if(k.hasStandardBrowserEnv&&(s&&f.isFunction(s)&&(s=s(e)),s||s!==!1&&vi(e.url))){const a=r&&o&&yi.read(o);a&&i.set(r,a)}return e},Oi=typeof XMLHttpRequest<"u",_i=Oi&&function(t){return new Promise(function(n,s){const r=tn(t);let o=r.data;const i=B.from(r.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:a}=r,u,d,h,y,p;function m(){y&&y(),p&&p(),r.cancelToken&&r.cancelToken.unsubscribe(u),r.signal&&r.signal.removeEventListener("abort",u)}let g=new XMLHttpRequest;g.open(r.method.toUpperCase(),r.url,!0),g.timeout=r.timeout;function b(){if(!g)return;const O=B.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),F={data:!l||l==="text"||l==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:O,config:t,request:g};Zt(function(w){n(w),m()},function(w){s(w),m()},F),g=null}"onloadend"in g?g.onloadend=b:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(b)},g.onabort=function(){g&&(s(new _("Request aborted",_.ECONNABORTED,t,g)),g=null)},g.onerror=function(){s(new _("Network Error",_.ERR_NETWORK,t,g)),g=null},g.ontimeout=function(){let T=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const F=r.transitional||Gt;r.timeoutErrorMessage&&(T=r.timeoutErrorMessage),s(new _(T,F.clarifyTimeoutError?_.ETIMEDOUT:_.ECONNABORTED,t,g)),g=null},o===void 0&&i.setContentType(null),"setRequestHeader"in g&&f.forEach(i.toJSON(),function(T,F){g.setRequestHeader(F,T)}),f.isUndefined(r.withCredentials)||(g.withCredentials=!!r.withCredentials),l&&l!=="json"&&(g.responseType=r.responseType),a&&([h,p]=ye(a,!0),g.addEventListener("progress",h)),c&&g.upload&&([d,y]=ye(c),g.upload.addEventListener("progress",d),g.upload.addEventListener("loadend",y)),(r.cancelToken||r.signal)&&(u=O=>{g&&(s(!O||O.type?new Z(null,t,g):O),g.abort(),g=null)},r.cancelToken&&r.cancelToken.subscribe(u),r.signal&&(r.signal.aborted?u():r.signal.addEventListener("abort",u)));const v=hi(r.url);if(v&&k.protocols.indexOf(v)===-1){s(new _("Unsupported protocol "+v+":",_.ERR_BAD_REQUEST,t));return}g.send(o||null)})},Si=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let s=new AbortController,r;const o=function(a){if(!r){r=!0,l();const u=a instanceof Error?a:this.reason;s.abort(u instanceof _?u:new Z(u instanceof Error?u.message:u))}};let i=e&&setTimeout(()=>{i=null,o(new _(`timeout ${e} of ms exceeded`,_.ETIMEDOUT))},e);const l=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(a=>{a.unsubscribe?a.unsubscribe(o):a.removeEventListener("abort",o)}),t=null)};t.forEach(a=>a.addEventListener("abort",o));const{signal:c}=s;return c.unsubscribe=()=>f.asap(l),c}},Ei=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let s=0,r;for(;s<n;)r=s+e,yield t.slice(s,r),s=r},Ai=async function*(t,e){for await(const n of Ci(t))yield*Ei(n,e)},Ci=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:s}=await e.read();if(n)break;yield s}}finally{await e.cancel()}},Et=(t,e,n,s)=>{const r=Ai(t,e);let o=0,i,l=c=>{i||(i=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:a,value:u}=await r.next();if(a){l(),c.close();return}let d=u.byteLength;if(n){let h=o+=d;n(h)}c.enqueue(new Uint8Array(u))}catch(a){throw l(a),a}},cancel(c){return l(c),r.return()}},{highWaterMark:2})},Ce=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",nn=Ce&&typeof ReadableStream=="function",xi=Ce&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),sn=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Ti=nn&&sn(()=>{let t=!1;const e=new Request(k.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),At=64*1024,Ve=nn&&sn(()=>f.isReadableStream(new Response("").body)),be={stream:Ve&&(t=>t.body)};Ce&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!be[e]&&(be[e]=f.isFunction(t[e])?n=>n[e]():(n,s)=>{throw new _(`Response type '${e}' is not supported`,_.ERR_NOT_SUPPORT,s)})})})(new Response);const Ri=async t=>{if(t==null)return 0;if(f.isBlob(t))return t.size;if(f.isSpecCompliantForm(t))return(await new Request(k.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(f.isArrayBufferView(t)||f.isArrayBuffer(t))return t.byteLength;if(f.isURLSearchParams(t)&&(t=t+""),f.isString(t))return(await xi(t)).byteLength},Fi=async(t,e)=>{const n=f.toFiniteNumber(t.getContentLength());return n??Ri(e)},Li=Ce&&(async t=>{let{url:e,method:n,data:s,signal:r,cancelToken:o,timeout:i,onDownloadProgress:l,onUploadProgress:c,responseType:a,headers:u,withCredentials:d="same-origin",fetchOptions:h}=tn(t);a=a?(a+"").toLowerCase():"text";let y=Si([r,o&&o.toAbortSignal()],i),p;const m=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let g;try{if(c&&Ti&&n!=="get"&&n!=="head"&&(g=await Fi(u,s))!==0){let F=new Request(e,{method:"POST",body:s,duplex:"half"}),P;if(f.isFormData(s)&&(P=F.headers.get("content-type"))&&u.setContentType(P),F.body){const[w,E]=Ot(g,ye(_t(c)));s=Et(F.body,At,w,E)}}f.isString(d)||(d=d?"include":"omit");const b="credentials"in Request.prototype;p=new Request(e,{...h,signal:y,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:s,duplex:"half",credentials:b?d:void 0});let v=await fetch(p,h);const O=Ve&&(a==="stream"||a==="response");if(Ve&&(l||O&&m)){const F={};["status","statusText","headers"].forEach(S=>{F[S]=v[S]});const P=f.toFiniteNumber(v.headers.get("content-length")),[w,E]=l&&Ot(P,ye(_t(l),!0))||[];v=new Response(Et(v.body,At,w,()=>{E&&E(),m&&m()}),F)}a=a||"text";let T=await be[f.findKey(be,a)||"text"](v,t);return!O&&m&&m(),await new Promise((F,P)=>{Zt(F,P,{data:T,headers:B.from(v.headers),status:v.status,statusText:v.statusText,config:t,request:p})})}catch(b){throw m&&m(),b&&b.name==="TypeError"&&/Load failed|fetch/i.test(b.message)?Object.assign(new _("Network Error",_.ERR_NETWORK,t,p),{cause:b.cause||b}):_.from(b,b&&b.code,t,p)}}),qe={http:Kr,xhr:_i,fetch:Li};f.forEach(qe,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Ct=t=>`- ${t}`,Ii=t=>f.isFunction(t)||t===null||t===!1,rn={getAdapter:t=>{t=f.isArray(t)?t:[t];const{length:e}=t;let n,s;const r={};for(let o=0;o<e;o++){n=t[o];let i;if(s=n,!Ii(n)&&(s=qe[(i=String(n)).toLowerCase()],s===void 0))throw new _(`Unknown adapter '${i}'`);if(s)break;r[i||"#"+o]=s}if(!s){const o=Object.entries(r).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let i=e?o.length>1?`since :
`+o.map(Ct).join(`
`):" "+Ct(o[0]):"as no adapter specified";throw new _("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return s},adapters:qe};function Be(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Z(null,t)}function xt(t){return Be(t),t.headers=B.from(t.headers),t.data=De.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),rn.getAdapter(t.adapter||re.adapter)(t).then(function(s){return Be(t),s.data=De.call(t,t.transformResponse,s),s.headers=B.from(s.headers),s},function(s){return Xt(s)||(Be(t),s&&s.response&&(s.response.data=De.call(t,t.transformResponse,s.response),s.response.headers=B.from(s.response.headers))),Promise.reject(s)})}const on="1.10.0",xe={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{xe[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const Tt={};xe.transitional=function(e,n,s){function r(o,i){return"[Axios v"+on+"] Transitional option '"+o+"'"+i+(s?". "+s:"")}return(o,i,l)=>{if(e===!1)throw new _(r(i," has been removed"+(n?" in "+n:"")),_.ERR_DEPRECATED);return n&&!Tt[i]&&(Tt[i]=!0,console.warn(r(i," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,i,l):!0}};xe.spelling=function(e){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function ki(t,e,n){if(typeof t!="object")throw new _("options must be an object",_.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let r=s.length;for(;r-- >0;){const o=s[r],i=e[o];if(i){const l=t[o],c=l===void 0||i(l,o,t);if(c!==!0)throw new _("option "+o+" must be "+c,_.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new _("Unknown option "+o,_.ERR_BAD_OPTION)}}const he={assertOptions:ki,validators:xe},V=he.validators;let Q=class{constructor(e){this.defaults=e||{},this.interceptors={request:new bt,response:new bt}}async request(e,n){try{return await this._request(e,n)}catch(s){if(s instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const o=r.stack?r.stack.replace(/^.+\n/,""):"";try{s.stack?o&&!String(s.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+o):s.stack=o}catch{}}throw s}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=G(this.defaults,n);const{transitional:s,paramsSerializer:r,headers:o}=n;s!==void 0&&he.assertOptions(s,{silentJSONParsing:V.transitional(V.boolean),forcedJSONParsing:V.transitional(V.boolean),clarifyTimeoutError:V.transitional(V.boolean)},!1),r!=null&&(f.isFunction(r)?n.paramsSerializer={serialize:r}:he.assertOptions(r,{encode:V.function,serialize:V.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),he.assertOptions(n,{baseUrl:V.spelling("baseURL"),withXsrfToken:V.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=o&&f.merge(o.common,o[n.method]);o&&f.forEach(["delete","get","head","post","put","patch","common"],p=>{delete o[p]}),n.headers=B.concat(i,o);const l=[];let c=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(c=c&&m.synchronous,l.unshift(m.fulfilled,m.rejected))});const a=[];this.interceptors.response.forEach(function(m){a.push(m.fulfilled,m.rejected)});let u,d=0,h;if(!c){const p=[xt.bind(this),void 0];for(p.unshift.apply(p,l),p.push.apply(p,a),h=p.length,u=Promise.resolve(n);d<h;)u=u.then(p[d++],p[d++]);return u}h=l.length;let y=n;for(d=0;d<h;){const p=l[d++],m=l[d++];try{y=p(y)}catch(g){m.call(this,g);break}}try{u=xt.call(this,y)}catch(p){return Promise.reject(p)}for(d=0,h=a.length;d<h;)u=u.then(a[d++],a[d++]);return u}getUri(e){e=G(this.defaults,e);const n=en(e.baseURL,e.url,e.allowAbsoluteUrls);return Qt(n,e.params,e.paramsSerializer)}};f.forEach(["delete","get","head","options"],function(e){Q.prototype[e]=function(n,s){return this.request(G(s||{},{method:e,url:n,data:(s||{}).data}))}});f.forEach(["post","put","patch"],function(e){function n(s){return function(o,i,l){return this.request(G(l||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:o,data:i}))}}Q.prototype[e]=n(),Q.prototype[e+"Form"]=n(!0)});let $i=class ln{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const s=this;this.promise.then(r=>{if(!s._listeners)return;let o=s._listeners.length;for(;o-- >0;)s._listeners[o](r);s._listeners=null}),this.promise.then=r=>{let o;const i=new Promise(l=>{s.subscribe(l),o=l}).then(r);return i.cancel=function(){s.unsubscribe(o)},i},e(function(o,i,l){s.reason||(s.reason=new Z(o,i,l),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=s=>{e.abort(s)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new ln(function(r){e=r}),cancel:e}}};function Pi(t){return function(n){return t.apply(null,n)}}function Ni(t){return f.isObject(t)&&t.isAxiosError===!0}const ze={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ze).forEach(([t,e])=>{ze[e]=t});function an(t){const e=new Q(t),n=Dt(Q.prototype.request,e);return f.extend(n,Q.prototype,e,{allOwnKeys:!0}),f.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return an(G(t,r))},n}const R=an(re);R.Axios=Q;R.CanceledError=Z;R.CancelToken=$i;R.isCancel=Xt;R.VERSION=on;R.toFormData=Ae;R.AxiosError=_;R.Cancel=R.CanceledError;R.all=function(e){return Promise.all(e)};R.spread=Pi;R.isAxiosError=Ni;R.mergeConfig=G;R.AxiosHeaders=B;R.formToJSON=t=>Yt(f.isHTMLForm(t)?new FormData(t):t);R.getAdapter=rn.getAdapter;R.HttpStatusCode=ze;R.default=R;const{Axios:Vi,AxiosError:qi,CanceledError:zi,isCancel:Ki,CancelToken:Wi,VERSION:Ji,all:Qi,Cancel:Gi,isAxiosError:Yi,spread:Xi,toFormData:Zi,AxiosHeaders:eo,HttpStatusCode:to,formToJSON:Di,getAdapter:no,mergeConfig:so}=R;let Rt=!1;const Bi=(t="",e={},n={})=>({selectInstance:null,isMultiple:!1,placeholder:null,searchEnabled:null,removeItemButton:null,associatedWith:null,isLoadedOptions:!1,init(){Rt||(document.dispatchEvent(new CustomEvent("moonshine:select.add_plugin",{detail:$.define})),Rt=!0);const s=this,r={};this.isMultiple=this.$el.hasAttribute("multiple"),this.placeholder=this.$el.getAttribute("placeholder"),this.searchEnabled=!!this.$el.dataset.searchEnabled,this.removeItemButton=!!this.$el.dataset.removeItemButton,this.associatedWith=this.$el.dataset.associatedWith,this.associatedWith&&this.$el.removeAttribute("data-associated-with"),this.isMultiple&&(r.remove_button={title:""}),this.removeItemButton?r.clear_button={title:""}:r.no_backspace_delete={};const o={plugins:{...r,...n},allowEmptyOption:!t&&!this.isMultiple,placeholder:this.placeholder,loadThrottle:300,optgroupValueField:"value",optgroupLabelField:"label",optgroupField:"optgroup",valueField:"value",labelField:"label",descriptionField:"description",childrenField:"values",disabledField:"disabled",searchField:["label"],dataAttr:"customProperties",...e,load:t?i=>this.asyncSearch(i):null,render:{item(i,l){const c=l(i[this.settings.labelField]),{image:a}=i.customProperties||{};return`<div class="${a?"with-image":""}">
                                ${s.imageRender(a)}
                                <div>${c}</div>
                            </div>`},option(i,l){const c=l(i[this.settings.labelField]),a=i[this.settings.descriptionField]?l(i[this.settings.descriptionField]):null,{image:u}=i.customProperties||{};return`<div class="flex gap-x-2 items-center ${u?"with-image":""}">
                                ${s.imageRender(u)}
                                <div class="flex flex-col gap-2">
                                    <div>${c}</div>
                                    ${a?`<div class="text-gray-400">${a}</div>`:""}
                                </div>
                            </div>`}}};this.searchEnabled||(o.controlInput=null),this.selectInstance=new $(this.$el,o),this.$nextTick(()=>{this.setClassSelectedEmptyValue.call(this.selectInstance),this.selectInstance.on("change",function(i){s.setClassSelectedEmptyValue.call(this,i)}),this.asyncOnInit(),this.associatedWith&&t&&document.querySelector(`[name="${this.associatedWith}"]`).addEventListener("change",i=>{this.selectInstance.clear(),this.selectInstance.trigger("change"),this.isLoadedOptions=!1},!1)})},asyncOnInit(){if(t&&this.$el.dataset.asyncOnInit)if(this.$el.dataset.asyncOnInitDropdown){const s=()=>{this.isLoadedOptions||(this.$el.dataset.asyncOnInitDropdownWithLoading?this.selectInstance.load(""):this.asyncSearch()),this.selectInstance.off("focus",s)};this.selectInstance.on("focus",s)}else this.selectInstance.preload()},async asyncSearch(s=null){let r=this.$el.dataset.asyncOnInit||s!==null&&s.length>0,o=[],i=[];if(r){const l=new URL(t,t.startsWith("/")?window.location.origin:void 0);l.searchParams.append(this.$el.dataset.asyncQueryKey||"query",s||"");const c=this.$el.form,a=c?c.querySelectorAll("[name]"):[],u=this.selectInstance.getValue();let d=this.$el.dataset.asyncSelectedValuesKey?er({[this.$el.dataset.asyncSelectedValuesKey]:u||""}):"";this.$el.dataset.asyncWithAllFields&&a.length&&(d+=(d?"&":"")+tr(a)),o=await this.fetchOptions(l.toString()+"&"+d);const h=this.normalizeOptions(o);i=h.groups,o=h.options}this.selectInstance.loadCallback(o,i),this.isLoadedOptions=!0},async fetchOptions(s){let r=[];try{r=await(await fetch(s)).json(),this.$el.dataset.asyncResultKey&&(r=r[this.$el.dataset.asyncResultKey])}catch{}return r},normalizeOptions(s){const{optgroupValueField:r,optgroupLabelField:o,childrenField:i,disabledField:l}=this.selectInstance.settings,c=[],a=[];for(const u in s){let d=s[u];if(!/^\d+$/g.test(u)&&typeof d!="string"&&(d={[o]:u,[i]:d}),d.hasOwnProperty(i)){let h=d[i];delete d[i];let y=d;const p={[r]:JSON.stringify(y[o]),[l]:!!y[l],...y};a.push(p);for(let m in h)c.push(this.normalizeOption(h[m],m,p[r]));continue}c.push(this.normalizeOption(d,u))}return{options:c,groups:a}},normalizeOption(s,r,o){typeof s=="string"&&(s={[this.selectInstance.settings.valueField]:r,[this.selectInstance.settings.labelField]:s}),o&&(s[this.selectInstance.settings.optgroupField]=o);const{properties:i,...l}=s;return{...l,[this.selectInstance.settings.disabledField]:!!l[this.selectInstance.settings.disabledField],customProperties:Array.isArray(i)?{}:i||{}}},imageRender(s){let r="";if(s){const o=this.normalizeImageData(s);r=`<div class="zoom-in overflow-hidden rounded-md h-${o.height} w-${o.width}">
                            <img src="${o.src}" class="h-full w-full object-${o.objectFit}" alt="" />
                        </div>`}return r},normalizeImageData(s){return typeof s=="string"&&(s={src:s}),{width:10,height:10,objectFit:"cover",...s}},setClassSelectedEmptyValue(s){this.settings.mode==="single"&&this.settings.allowEmptyOption&&(arguments.length||(s=this.getValue()),this.wrapper.classList.toggle("selected-empty-value",s===""))},dispatchEvents(s,r=null,o={}){const i=this.$el.closest("form");r!=="*"&&(o._data=i?Di(nr(new FormData(i),r)):{value:this.selectInstance.getValue()}),or(s,"",this,o)}});document.addEventListener("alpine:init",()=>{Alpine.data("tomSelect",Bi)});
